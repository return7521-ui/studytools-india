<!DOCTYPE html>
<html lang="en-IN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>StudyTools India | Elite Academic Toolkit for JEE, NDA & ISC</title>
    
    <meta name="description" content="50+ Free Academic Tools for ISC, JEE, NDA & NEET students. Calculate Attendance, GPA, Physics Numericals & more. Created by Shashank Kushwaha.">
<meta name="author" content="Shashank Kushwaha">
<meta name="keywords" content="StudyTools, India, JEE, ISC, Calculator, Physics, Attendance, Shashank Kushwaha">

<meta property="og:title" content="StudyTools India - The Student Super App">
<meta property="og:description" content="Calculate Attendance, Rank, & Numericals Instantly. The Mind-Blowing Academic Engine.">
<meta property="og:image" content="https://your-github-username.github.io/logo.png"> <meta name="theme-color" content="#4f46e5">
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@300;400;600;800&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        /* === THEME VARIABLES (The "Soul" of the UI) === */
        :root {
            /* Primary Brand Colors */
            --primary: #6366f1;       /* Indigo 500 */
            --primary-dark: #4338ca;  /* Indigo 700 */
            --primary-glow: rgba(99, 102, 241, 0.4);
            
            /* Status Colors */
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #06b6d4;

            /* Glassmorphism Surface Colors (Light Mode) */
            --bg-grad-1: #f8fafc;
            --bg-grad-2: #e2e8f0;
            --card-glass: rgba(255, 255, 255, 0.7);
            --border-glass: rgba(255, 255, 255, 0.6);
            --shadow-glass: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            
            /* Text Colors */
            --text-main: #1e293b;
            --text-dim: #64748b;

            /* Animation Speeds */
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* Dark Mode Override Variables */
        body.dark-mode {
            --bg-grad-1: #0f172a;
            --bg-grad-2: #1e293b;
            --card-glass: rgba(30, 41, 59, 0.7);
            --border-glass: rgba(255, 255, 255, 0.08);
            --shadow-glass: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            --text-main: #f1f5f9;
            --text-dim: #94a3b8;
        }

        /* === GLOBAL RESET & TYPOGRAPHY === */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--bg-grad-1), var(--bg-grad-2));
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden; /* Fixes your "content out of screen" issue */
            transition: var(--transition);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--text-dim); border-radius: 10px; }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        
        /* The "Aura" Background Effect */
        .aura-bg {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1;
            background: radial-gradient(circle at 50% 50%, var(--primary-glow), transparent 70%);
            opacity: 0.5; pointer-events: none;
        }
        /* === CRITICAL REPAIRS === */

/* 1. Fix Search Bar Text Overlap */
#master-search {
    padding-right: 150px !important; /* Space for "X Results Found" */
    text-overflow: ellipsis;
}

/* 2. Fix Scientific Calculator Visibility */
.calc-dock {
    z-index: 9999 !important; /* Forces it ON TOP of everything */
    box-shadow: 0 -10px 40px rgba(0,0,0,0.3) !important;
}

/* 3. Prevent Horizontal Scrolling */
body, html {
    overflow-x: hidden;
    width: 100%;
}

/* 4. Fix Install/Share Button Styles */
.header-actions { display: flex; gap: 10px; }
.action-btn { position: relative; overflow: hidden; }
        /* === PROFESSIONAL DEVELOPER CARD STYLING === */
.pro-card-header {
    display: flex; align-items: center; gap: 20px;
    padding-bottom: 20px; border-bottom: 1px solid var(--border-glass);
    margin-bottom: 20px;
}

.pro-avatar {
    width: 60px; height: 60px;
    background: linear-gradient(135deg, var(--primary), #818cf8);
    color: white; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-family: 'Orbitron', sans-serif; font-weight: 700; font-size: 1.5rem;
    box-shadow: 0 4px 15px var(--primary-glow);
}

.pro-info h4 { font-size: 1.2rem; margin-bottom: 4px; color: var(--text-main); }
.pro-info span { 
    font-size: 0.85rem; color: var(--primary); 
    font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; 
}

.pro-bio p {
    font-size: 0.95rem; line-height: 1.7; color: var(--text-dim); margin-bottom: 15px;
}
.pro-bio b { color: var(--text-main); font-weight: 600; }

.pro-stack {
    background: rgba(99, 102, 241, 0.05);
    padding: 15px; border-radius: 12px;
    border: 1px solid var(--border-glass);
}
.pro-stack small {
    display: block; font-size: 0.7rem; font-weight: 700; 
    color: var(--text-dim); margin-bottom: 10px; text-transform: uppercase;
}
.stack-badges { display: flex; flex-wrap: wrap; gap: 8px; }
.tech-badge {
    font-size: 0.75rem; padding: 6px 12px; border-radius: 20px;
    background: white; border: 1px solid var(--border-glass);
    color: var(--text-main); display: flex; align-items: center; gap: 6px;
}
body.dark-mode .tech-badge { background: rgba(255,255,255,0.05); color: white; }
        /* === CRITICAL Z-INDEX & PRO DESIGN === */
/* 1. LAYER MANAGER (Fixes Overlap) */
.app-footer { z-index: 10; position: relative; }
.calc-dock { z-index: 5000 !important; bottom: 0 !important; }
.modal-overlay { z-index: 9998 !important; }
.modal-window { z-index: 9999 !important; }

/* 2. LEAD ARCHITECT CARD STYLING */
.pro-card-header { display: flex; align-items: center; gap: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--border-glass); margin-bottom: 20px; }
.pro-avatar { width: 65px; height: 65px; background: linear-gradient(135deg, var(--primary), #818cf8); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-family: 'Orbitron', sans-serif; font-weight: 700; font-size: 1.6rem; box-shadow: 0 8px 20px var(--primary-glow); border: 3px solid white; }
.pro-info h4 { font-size: 1.3rem; margin-bottom: 4px; color: var(--text-main); font-weight: 700; }
.pro-info span { font-size: 0.8rem; color: var(--primary); background: rgba(99, 102, 241, 0.1); padding: 4px 8px; border-radius: 6px; font-weight: 700; text-transform: uppercase; }
.pro-bio p { font-size: 0.95rem; line-height: 1.7; color: var(--text-dim); margin-bottom: 15px; }
.pro-stack { background: rgba(99, 102, 241, 0.03); padding: 15px; border-radius: 12px; border: 1px solid var(--border-glass); }
.pro-stack small { display: block; font-size: 0.7rem; font-weight: 800; color: var(--text-dim); margin-bottom: 10px; text-transform: uppercase; }
.stack-badges { display: flex; flex-wrap: wrap; gap: 8px; }
.tech-badge { font-size: 0.75rem; padding: 6px 12px; border-radius: 20px; background: white; border: 1px solid var(--border-glass); color: var(--text-main); display: flex; align-items: center; gap: 6px; font-weight: 500; }
        
    </style>
</head>
<body>
    <div class="aura-bg"></div>
    <header class="main-header">
    <div class="container header-content">
        <div class="logo-area">
            <div class="logo-icon">
                <i class="fas fa-microchip"></i>
            </div>
            <div class="logo-text">
                STUDYTOOLS <span class="accent">INDIA</span>
            </div>
        </div>

        <div class="header-actions">
    <button class="action-btn" onclick="nativeShare()" title="Share Website">
        <i class="fas fa-share-nodes"></i>
    </button>

    <button class="action-btn" id="install-btn" style="display: none;" title="Install App">
        <i class="fas fa-download"></i>
    </button>

    <button class="action-btn theme-toggle" onclick="toggleGlobalTheme()">
        <i class="fas fa-moon"></i>
    </button>
</div>
    </div>
</header>

<section class="nav-dock">
    <div class="container">
        <div class="search-wrapper">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="master-search" placeholder="Search 100+ precision tools..." onkeyup="universalSearch()">
            <div class="search-status" id="search-count">Ready for calculations</div>
        </div>

        <div class="category-strip">
            <button class="cat-pill active" onclick="filterByCategory('all', this)">All Tools</button>
            <button class="cat-pill" onclick="filterByCategory('academic', this)">Academic</button>
            <button class="cat-pill" onclick="filterByCategory('math', this)">Mathematics</button>
            <button class="cat-pill" onclick="filterByCategory('physics', this)">Physics</button>
            <button class="cat-pill" onclick="filterByCategory('chemistry', this)">Chemistry</button>
            <button class="cat-pill" onclick="filterByCategory('finance', this)">Finance</button>
            <button class="cat-pill" onclick="filterByCategory('utility', this)">Utility</button>
        </div>
    </div>
</section>

<style>
    /* --- HEADER STYLING --- */
    .main-header {
        position: sticky; top: 0; z-index: 1000;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--border-glass);
        padding: 15px 0;
    }

    .header-content { display: flex; justify-content: space-between; align-items: center; }

    .logo-area { display: flex; align-items: center; gap: 12px; }
    .logo-icon {
        width: 40px; height: 40px; background: var(--primary);
        color: white; border-radius: 10px; display: flex;
        align-items: center; justify-content: center; font-size: 1.2rem;
        box-shadow: 0 8px 16px var(--primary-glow);
    }

    .logo-text {
        font-family: 'Orbitron', sans-serif; font-weight: 800; font-size: 1.1rem;
        letter-spacing: 1px; color: var(--text-main);
    }
    body.dark-mode .logo-text { color: white; }
    .logo-text .accent { color: var(--primary); }

    .action-btn {
        width: 40px; height: 40px; border-radius: 10px; border: 1px solid var(--border-glass);
        background: white; cursor: pointer; color: var(--text-main); transition: var(--transition);
    }
    body.dark-mode .action-btn { background: #1e293b; color: white; }
    .action-btn:hover { transform: translateY(-2px); border-color: var(--primary); }

    /* --- NAV DOCK & SEARCH --- */
    .nav-dock { padding: 30px 0 10px; }

    .search-wrapper {
        position: relative; margin-bottom: 25px;
        background: var(--card-glass); border-radius: 18px;
        border: 1px solid var(--border-glass); padding: 5px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }
    body.dark-mode .search-wrapper { background: var(--card-glass-dark); }

    .search-icon { position: absolute; left: 20px; top: 50%; transform: translateY(-50%); color: var(--primary); }
    
    #master-search {
        width: 100%; padding: 15px 15px 15px 50px; border: none; background: transparent;
        font-size: 1rem; font-family: inherit; color: inherit;
    }

    .search-status {
        position: absolute; right: 20px; top: 50%; transform: translateY(-50%);
        font-size: 0.7rem; font-weight: 700; color: var(--text-dim);
        text-transform: uppercase; letter-spacing: 0.5px;
    }

    /* --- CATEGORY STRIP --- */
    .category-strip {
        display: flex; gap: 10px; overflow-x: auto;
        padding-bottom: 10px; scrollbar-width: none;
    }
    .category-strip::-webkit-scrollbar { display: none; }

    .cat-pill {
        white-space: nowrap; padding: 10px 20px; border-radius: 12px;
        border: 1px solid var(--border-glass); background: white;
        font-size: 0.85rem; font-weight: 600; cursor: pointer;
        transition: var(--transition); color: var(--text-dim);
    }
    body.dark-mode .cat-pill { background: #1e293b; color: #94a3b8; }

    .cat-pill:hover, .cat-pill.active {
        background: var(--primary); color: white; border-color: var(--primary);
        box-shadow: 0 8px 15px var(--primary-glow);
    }
</style>

<script>
    // Filtering Logic
    function filterByCategory(category, element) {
        // Update Active Pill
        document.querySelectorAll('.cat-pill').forEach(p => p.classList.remove('active'));
        element.classList.add('active');

        const cards = document.querySelectorAll('.tool-card');
        let count = 0;

        cards.forEach(card => {
            if (category === 'all' || card.getAttribute('data-category') === category) {
                card.style.display = "flex";
                count++;
            } else {
                card.style.display = "none";
            }
        });
        document.getElementById('search-count').innerText = `${count} Tools Found`;
    }

    // Universal Search Logic
    function universalSearch() {
        const query = document.getElementById('master-search').value.toLowerCase();
        const cards = document.querySelectorAll('.tool-card');
        let visible = 0;

        cards.forEach(card => {
            const title = card.querySelector('h3').innerText.toLowerCase();
            const tags = card.getAttribute('data-tags').toLowerCase();
            if (title.includes(query) || tags.includes(query)) {
                card.style.display = "flex";
                visible++;
            } else {
                card.style.display = "none";
            }
        });
        document.getElementById('search-count').innerText = `${visible} Results`;
    }
</script>
<div class="calc-dock" id="scientific-dock">
    <div class="calc-handle" onclick="toggleCalc()">
        <div class="handle-bar"></div>
        <span><i class="fas fa-calculator"></i> Scientific Engine</span>
    </div>
    
    <div class="calc-container">
        <div class="calc-screen">
            <div class="calc-history" id="calc-history"></div>
            <div class="calc-main-display" id="calc-display">0</div>
        </div>

        <div class="calc-keypad">
            <button class="key sc-key" onclick="appendCalc('Math.sin(')">sin</button>
            <button class="key sc-key" onclick="appendCalc('Math.cos(')">cos</button>
            <button class="key sc-key" onclick="appendCalc('Math.tan(')">tan</button>
            <button class="key sc-key" onclick="appendCalc('Math.log10(')">log</button>
            
            <button class="key sc-key" onclick="appendCalc('**')">xʸ</button>
            <button class="key sc-key" onclick="appendCalc('Math.sqrt(')">√</button>
            <button class="key sc-key" onclick="appendCalc('Math.PI')">π</button>
            <button class="key sc-key" onclick="appendCalc('Math.E')">e</button>

            <button class="key num-key" onclick="appendCalc('7')">7</button>
            <button class="key num-key" onclick="appendCalc('8')">8</button>
            <button class="key num-key" onclick="appendCalc('9')">9</button>
            <button class="key op-key" onclick="appendCalc('/')">÷</button>

            <button class="key num-key" onclick="appendCalc('4')">4</button>
            <button class="key num-key" onclick="appendCalc('5')">5</button>
            <button class="key num-key" onclick="appendCalc('6')">6</button>
            <button class="key op-key" onclick="appendCalc('*')">×</button>

            <button class="key num-key" onclick="appendCalc('1')">1</button>
            <button class="key num-key" onclick="appendCalc('2')">2</button>
            <button class="key num-key" onclick="appendCalc('3')">3</button>
            <button class="key op-key" onclick="appendCalc('-')">−</button>

            <button class="key clear-key" onclick="clearCalc()">AC</button>
            <button class="key num-key" onclick="appendCalc('0')">0</button>
            <button class="key op-key" onclick="calculateResult()">=</button>
            <button class="key op-key" onclick="appendCalc('+')">+</button>
        </div>
    </div>
</div>

<style>
    /* --- CALCULATOR DOCK STYLING --- */
    .calc-dock {
        position: fixed; bottom: -420px; left: 0; width: 100%;
        background: var(--card-glass); backdrop-filter: blur(30px);
        border-top: 1px solid var(--border-glass); z-index: 2000;
        transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        border-radius: 30px 30px 0 0; box-shadow: 0 -10px 40px rgba(0,0,0,0.2);
    }
    body.dark-mode .calc-dock { background: var(--card-glass-dark); }
    .calc-dock.active { transform: translateY(-420px); }

    .calc-handle {
        padding: 15px; text-align: center; cursor: pointer;
        font-family: 'Orbitron', sans-serif; font-size: 0.75rem;
        font-weight: 700; color: var(--primary);
    }
    .handle-bar {
        width: 40px; height: 4px; background: var(--text-dim);
        border-radius: 10px; margin: 0 auto 8px; opacity: 0.3;
    }

    .calc-container { padding: 0 20px 20px; max-width: 500px; margin: 0 auto; }

    .calc-screen {
        background: rgba(0,0,0,0.05); border-radius: 15px;
        padding: 20px; margin-bottom: 20px; text-align: right;
        border: 1px solid var(--border-glass);
    }
    body.dark-mode .calc-screen { background: rgba(255,255,255,0.03); }

    .calc-history { font-family: 'Roboto Mono', monospace; font-size: 0.8rem; color: var(--text-dim); min-height: 1.2rem; }
    .calc-main-display { font-family: 'Roboto Mono', monospace; font-size: 1.8rem; font-weight: 700; margin-top: 5px; overflow-x: auto; }

    .calc-keypad {
        display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;
    }

    .key {
        padding: 15px; border-radius: 12px; border: 1px solid var(--border-glass);
        font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 1rem;
        cursor: pointer; transition: 0.2s;
    }
    .num-key { background: white; color: var(--text-main); }
    .op-key { background: var(--primary); color: white; }
    .sc-key { background: rgba(99, 102, 241, 0.1); color: var(--primary); font-size: 0.8rem; }
    .clear-key { background: #ef4444; color: white; }

    body.dark-mode .num-key { background: #1e293b; color: white; }

    .key:active { transform: scale(0.9); }
</style>

<script>
    let calcExpression = "";

    function toggleCalc() {
        document.getElementById('scientific-dock').classList.toggle('active');
    }

    function appendCalc(val) {
        calcExpression += val;
        document.getElementById('calc-display').innerText = calcExpression;
    }

    function clearCalc() {
        calcExpression = "";
        document.getElementById('calc-display').innerText = "0";
        document.getElementById('calc-history').innerText = "";
    }

    function calculateResult() {
        try {
            const result = eval(calcExpression.replace('×', '*').replace('÷', '/'));
            document.getElementById('calc-history').innerText = calcExpression + " =";
            document.getElementById('calc-display').innerText = Number.isInteger(result) ? result : result.toFixed(4);
            calcExpression = result.toString();
        } catch (e) {
            document.getElementById('calc-display').innerText = "Error";
            calcExpression = "";
        }
    }
</script>
<script>
    /**
     * GLOBAL EXPORT CONTROLLER
     * Powers PNG, JPG, and PDF downloads for all 100+ tools.
     * Built specifically for @studytoolsindia
     */
    async function universalExport(toolId, format) {
        const toolCard = document.querySelector(`[data-tool-id="${toolId}"]`);
        const resultDisplay = toolCard.querySelector('.res-display, .result-display');

        // Validation: Ensure there is a result to export
        if (!resultDisplay || !resultDisplay.classList.contains('show')) {
            alert("Mind-Blowing Tip: Please calculate a result first before downloading!");
            return;
        }

        // Add "Processing" State to Button
        const btn = event.currentTarget;
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
        btn.disabled = true;

        try {
            if (format === 'png' || format === 'jpg') {
                // Configure Screenshot - Temporarily hide export buttons for a clean look
                // Note: The data-html2canvas-ignore attribute can also be used in HTML to hide elements
                const exportBar = toolCard.querySelector('.card-export-bar');
                if(exportBar) exportBar.style.opacity = '0';

                const canvas = await html2canvas(toolCard, {
                    backgroundColor: null,
                    scale: 3, // Ultra-High Definition for mobile retina screens
                    useCORS: true, // Crucial for loading external fonts/images
                    logging: false
                });

                if(exportBar) exportBar.style.opacity = '1';

                const link = document.createElement('a');
                link.download = `StudyTools_India_${toolId}_${Date.now()}.${format}`;
                link.href = canvas.toDataURL(`image/${format === 'jpg' ? 'jpeg' : 'png'}`);
                link.click();
            } 
            
            else if (format === 'pdf') {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                // Professional PDF Branding Header
                doc.setFillColor(99, 102, 241); // Primary Brand Color
                doc.rect(0, 0, 210, 40, 'F');
                
                doc.setTextColor(255, 255, 255);
                doc.setFont("helvetica", "bold");
                doc.setFontSize(22);
                doc.text("STUDYTOOLS INDIA", 15, 25);
                
                doc.setFontSize(10);
                doc.text("Professional Academic Result Report", 15, 32);
                
                // Result Content Body
                doc.setTextColor(30, 41, 59);
                doc.setFontSize(14);
                // Dynamically fetch category for context
                const category = toolCard.getAttribute('data-category') ? toolCard.getAttribute('data-category').toUpperCase() : 'ACADEMIC TOOL';
                doc.text(`Tool Category: ${category}`, 15, 60);
                
                // Parse text content carefully to handle line breaks
                const resultText = resultDisplay.innerText || resultDisplay.textContent;
                doc.setFontSize(12);
                const splitText = doc.splitTextToSize(`Result:\n${resultText}`, 180);
                doc.text(splitText, 15, 75);
                
                // Footer Line
                doc.setDrawColor(226, 232, 240);
                doc.line(15, 280, 195, 280);
                
                doc.setFontSize(10);
                doc.setTextColor(100, 116, 139);
                doc.text(`Generated on: ${new Date().toLocaleString()}`, 15, 285);
                doc.text(`Calculated via StudyTools India Platform`, 15, 290);
                
                doc.save(`StudyTools_Report_${toolId}.pdf`);
            }
        } catch (error) {
            console.error("Export Error:", error);
            alert("Something went wrong! Please check your internet connection.");
        } finally {
            btn.innerHTML = originalText;
            btn.disabled = false;
        }
    }

    /**
     * DOM CLEANUP & OBSERVER
     * Ensures all tools follow the 'Immersive Output' standard.
     */
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.target.classList.contains('res-display') && mutation.target.innerHTML !== "") {
                mutation.target.classList.add('show');
            }
        });
    });

    document.querySelectorAll('.res-display').forEach(el => {
        observer.observe(el, { childList: true });
    });
</script>

<style>
    /* Global Tool Card Export UI */
    .card-export-bar {
        margin-top: auto;
        padding: 15px 20px;
        background: rgba(0,0,0,0.03);
        border-top: 1px solid var(--border-glass);
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
    }
    body.dark-mode .card-export-bar { background: rgba(255,255,255,0.03); }

    .export-btn {
        flex: 1;
        padding: 8px;
        border-radius: 8px;
        border: 1px solid var(--border-glass);
        background: white;
        font-size: 0.7rem;
        font-weight: 700;
        cursor: pointer;
        color: var(--text-dim);
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 5px;
    }
    body.dark-mode .export-btn { background: #1e293b; color: #94a3b8; }
    .export-btn:hover { border-color: var(--primary); color: var(--primary); background: var(--primary-glow); }
</style>
<main class="container" style="margin-top: 30px;">
    <div class="tools-grid">

        <div class="tool-card" data-category="academic" data-tool-id="attendance-pro" data-tags="attendance bunk 75% college school academic">
            <div class="tool-header">
                <div class="tool-icon" style="background:rgba(16, 185, 129, 0.1); color:var(--success)">
                    <i class="fas fa-calendar-check"></i>
                </div>
                <div class="tool-meta">
                    <h3>Attendance Strategist</h3>
                    <p>Plan your 'Bunks' vs 'Must Attend'.</p>
                </div>
            </div>

            <div class="tool-body">
                <div class="input-group">
                    <label>Attended Lectures</label>
                    <input type="number" id="att-attended" placeholder="e.g. 45">
                </div>
                <div class="input-group">
                    <label>Total Lectures Held</label>
                    <input type="number" id="att-total" placeholder="e.g. 60">
                </div>
                <div class="input-group">
                    <label>Target Percentage (%)</label>
                    <input type="number" id="att-target" value="75">
                </div>
                
                <button class="primary-calc-btn" onclick="calcAttendance()">
                    <i class="fas fa-calculator"></i> Analyze Status
                </button>

                <div class="res-display" id="res-attendance">
                    <span class="placeholder">Enter data to analyze...</span>
                </div>
            </div>

            <div class="card-export-bar">
                <button class="export-btn" onclick="universalExport('attendance-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
                <button class="export-btn" onclick="universalExport('attendance-pro', 'pdf')"><i class="fas fa-file-pdf"></i> PDF</button>
            </div>
        </div>

        <div class="tool-card" data-category="math" data-tool-id="percentage-pro" data-tags="percentage marks cgpa math academic">
            <div class="tool-header">
                <div class="tool-icon" style="background:rgba(99, 102, 241, 0.1); color:var(--primary)">
                    <i class="fas fa-percent"></i>
                </div>
                <div class="tool-meta">
                    <h3>Percentage Master</h3>
                    <p>Calculate Marks % and Grade.</p>
                </div>
            </div>

            <div class="tool-body">
                <div class="input-group">
                    <label>Marks Obtained</label>
                    <input type="number" id="perc-obtained" placeholder="e.g. 450">
                </div>
                <div class="input-group">
                    <label>Total Marks</label>
                    <input type="number" id="perc-total" placeholder="e.g. 500">
                </div>
                
                <button class="primary-calc-btn" onclick="calcPercentage()">
                    <i class="fas fa-bolt"></i> Calculate %
                </button>

                <div class="res-display" id="res-percentage">
                    <span class="placeholder">Result appears here...</span>
                </div>
            </div>

            <div class="card-export-bar">
                <button class="export-btn" onclick="universalExport('percentage-pro', 'png')"><i class="fas fa-image"></i> Save</button>
                <button class="export-btn" onclick="universalExport('percentage-pro', 'pdf')"><i class="fas fa-file-pdf"></i> Report</button>
            </div>
        </div>

    </div>
</main>

<style>
    /* --- GRID SYSTEM --- */
    .tools-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 25px;
        padding-bottom: 150px; /* Space for the floating dock */
    }

    /* --- TOOL CARD DESIGN --- */
    .tool-card {
        background: var(--card-glass);
        border: 1px solid var(--border-glass);
        border-radius: 24px;
        padding: 25px;
        transition: var(--transition);
        display: flex;
        flex-direction: column;
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 6px rgba(0,0,0,0.02);
    }
    body.dark-mode .tool-card { background: var(--card-glass-dark); }
    
    .tool-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-glass); }

    /* Header */
    .tool-header { display: flex; gap: 15px; align-items: center; margin-bottom: 25px; }
    .tool-icon {
        width: 50px; height: 50px; border-radius: 14px;
        display: flex; align-items: center; justify-content: center;
        font-size: 1.5rem; flex-shrink: 0;
    }
    .tool-meta h3 { font-size: 1.1rem; font-weight: 700; margin-bottom: 4px; }
    .tool-meta p { font-size: 0.8rem; color: var(--text-dim); }

    /* Inputs */
    .input-group { margin-bottom: 15px; }
    .input-group label { display: block; font-size: 0.8rem; font-weight: 600; margin-bottom: 8px; color: var(--text-dim); }
    
    input[type="number"], input[type="text"], select {
        width: 100%; padding: 12px 15px; border-radius: 12px;
        border: 1px solid var(--border-glass); background: rgba(255,255,255,0.5);
        font-family: 'Poppins', sans-serif; font-size: 0.95rem;
        transition: 0.3s; color: var(--text-main);
    }
    body.dark-mode input, body.dark-mode select { background: rgba(0,0,0,0.2); color: white; border-color: rgba(255,255,255,0.1); }
    
    input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px var(--primary-glow); }

    /* Buttons */
    .primary-calc-btn {
        width: 100%; padding: 14px; border: none; border-radius: 14px;
        background: var(--primary); color: white; font-weight: 600;
        font-size: 1rem; cursor: pointer; margin-top: 10px;
        transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px;
    }
    .primary-calc-btn:hover { background: var(--primary-dark); transform: scale(0.98); }

    /* Results */
    .res-display {
        margin-top: 20px; padding: 15px; background: rgba(99, 102, 241, 0.05);
        border-radius: 12px; min-height: 60px; border-left: 4px solid var(--text-dim);
        font-size: 0.9rem; transition: 0.4s; opacity: 0.7;
    }
    .res-display.show { opacity: 1; border-color: var(--primary); background: rgba(99, 102, 241, 0.1); }
    .res-display b { color: var(--primary); font-family: 'Orbitron', sans-serif; letter-spacing: 1px; }
    .placeholder { font-style: italic; color: var(--text-dim); font-size: 0.8rem; }
    
    .res-success { border-color: var(--success) !important; background: rgba(16, 185, 129, 0.1) !important; }
    .res-danger { border-color: var(--danger) !important; background: rgba(239, 68, 68, 0.1) !important; }
</style>

<script>
    // --- ATTENDANCE LOGIC ---
    function calcAttendance() {
        const attended = parseFloat(document.getElementById('att-attended').value);
        const total = parseFloat(document.getElementById('att-total').value);
        const target = parseFloat(document.getElementById('att-target').value);
        const resBox = document.getElementById('res-attendance');

        if (!attended || !total) return;

        const current = (attended / total) * 100;
        let msg = "";
        let className = "show";

        if (current >= target) {
            // Can Bunk
            // Equation: (attended) / (total + x) >= target/100
            const maxClasses = Math.floor((attended * 100 / target) - total);
            msg = `Current: <b>${current.toFixed(2)}%</b><br>Safe Status: You can bunk <b>${maxClasses}</b> next lectures while staying above ${target}%.`;
            className += " res-success";
        } else {
            // Must Attend
            // Equation: (attended + x) / (total + x) >= target/100
            const reqClasses = Math.ceil((target * total - 100 * attended) / (100 - target));
            msg = `Current: <b>${current.toFixed(2)}%</b><br>Danger Status: You must attend <b>${reqClasses}</b> lectures consecutively to hit ${target}%.`;
            className += " res-danger";
        }
        
        resBox.innerHTML = msg;
        resBox.className = `res-display ${className}`;
    }

    // --- PERCENTAGE LOGIC ---
    function calcPercentage() {
        const obt = parseFloat(document.getElementById('perc-obtained').value);
        const tot = parseFloat(document.getElementById('perc-total').value);
        const resBox = document.getElementById('res-percentage');

        if (!obt || !tot) return;

        const perc = (obt / tot) * 100;
        resBox.innerHTML = `Percentage: <b>${perc.toFixed(2)}%</b><br>Grade: <b>${getGrade(perc)}</b>`;
        resBox.classList.add('show');
    }

    function getGrade(p) {
        if(p >= 90) return "A+ (Outstanding)";
        if(p >= 80) return "A (Excellent)";
        if(p >= 70) return "B (Good)";
        if(p >= 60) return "C (Average)";
        return "D (Needs Improvement)";
    }
</script>
        <div class="tool-card" data-category="academic" data-tool-id="gpa-pro" data-tags="gpa cgpa grades cbse isc conversion">
            <div class="tool-header">
                <div class="tool-icon" style="background:rgba(245, 158, 11, 0.1); color:var(--accent)">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="tool-meta">
                    <h3>Universal GPA Bridge</h3>
                    <p>Convert % to 10.0 and 4.0 Scales.</p>
                </div>
            </div>

            <div class="tool-body">
                <div class="input-group">
                    <label>Aggregated Percentage (%)</label>
                    <input type="number" id="gpa-perc" placeholder="e.g. 92.5">
                </div>
                
                <button class="primary-calc-btn" onclick="calcGPA()">
                    <i class="fas fa-exchange-alt"></i> Convert Grades
                </button>

                <div class="res-display" id="res-gpa">
                    <span class="placeholder">Enter percentage to convert...</span>
                </div>
            </div>

            <div class="card-export-bar">
                <button class="export-btn" onclick="universalExport('gpa-pro', 'png')"><i class="fas fa-image"></i> Save Card</button>
            </div>
        </div>

        <div class="tool-card" data-category="academic" data-tool-id="cgpa-builder" data-tags="cgpa subjects marksheet calculator">
            <div class="tool-header">
                <div class="tool-icon" style="background:rgba(239, 68, 68, 0.1); color:var(--danger)">
                    <i class="fas fa-layer-group"></i>
                </div>
                <div class="tool-meta">
                    <h3>CGPA Builder</h3>
                    <p>Calculate Average Grade Points.</p>
                </div>
            </div>

            <div class="tool-body">
                <div id="subject-list" class="dynamic-list">
                    <div class="subject-row">
                        <input type="number" class="sub-grade" placeholder="Grade Pt (1-10)">
                        <input type="number" class="sub-credit" placeholder="Credit (opt)" value="1">
                    </div>
                    <div class="subject-row">
                        <input type="number" class="sub-grade" placeholder="Grade Pt (1-10)">
                        <input type="number" class="sub-credit" placeholder="Credit (opt)" value="1">
                    </div>
                </div>

                <div class="action-row" style="display:flex; gap:10px; margin-top:10px;">
                    <button class="secondary-btn" onclick="addSubjectRow()">
                        <i class="fas fa-plus"></i> Add Sub
                    </button>
                    <button class="primary-calc-btn" style="margin-top:0;" onclick="calcCGPA()">
                        <i class="fas fa-calculator"></i> Calculate
                    </button>
                </div>

                <div class="res-display" id="res-cgpa">
                    <span class="placeholder">Add subject points...</span>
                </div>
            </div>

            <div class="card-export-bar">
                <button class="export-btn" onclick="universalExport('cgpa-builder', 'pdf')"><i class="fas fa-file-pdf"></i> PDF Report</button>
            </div>
        </div>

<script>
    // --- UNIVERSAL GPA LOGIC ---
    function calcGPA() {
        const p = parseFloat(document.getElementById('gpa-perc').value);
        const resBox = document.getElementById('res-gpa');

        if (!p && p !== 0) return;

        // Indian 10.0 Scale (Standard CBSE approximation: Marks / 9.5)
        const cgpa10 = (p / 9.5).toFixed(2);
        
        // US 4.0 Scale Conversion
        let gpa4 = 0;
        let grade = "";
        let color = "";

        if (p >= 91) { gpa4 = 4.0; grade = "A1"; color = "var(--success)"; }
        else if (p >= 81) { gpa4 = 3.7; grade = "A2"; color = "var(--success)"; }
        else if (p >= 71) { gpa4 = 3.3; grade = "B1"; color = "var(--primary)"; }
        else if (p >= 61) { gpa4 = 3.0; grade = "B2"; color = "var(--warning)"; }
        else if (p >= 51) { gpa4 = 2.7; grade = "C1"; color = "var(--danger)"; }
        else { gpa4 = 2.0; grade = "D/Fail"; color = "var(--text-dim)"; }

        // Cap CGPA at 10
        const final10 = parseFloat(cgpa10) > 10 ? 10 : cgpa10;

        resBox.innerHTML = `
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; text-align:center;">
                <div>
                    <small>CBSE/ISC Grade</small><br>
                    <b style="color:${color}; font-size:1.4rem">${grade}</b>
                </div>
                <div>
                    <small>10.0 Scale</small><br>
                    <b style="color:${color}; font-size:1.4rem">${final10}</b>
                </div>
            </div>
            <hr style="border:0; border-top:1px solid var(--border-glass); margin:10px 0;">
            US GPA (4.0 Scale): <b>${gpa4}</b>
        `;
        resBox.classList.add('show');
    }

    // --- DYNAMIC CGPA BUILDER ---
    function addSubjectRow() {
        const list = document.getElementById('subject-list');
        const div = document.createElement('div');
        div.className = 'subject-row';
        div.innerHTML = `
            <input type="number" class="sub-grade" placeholder="Grade Pt">
            <input type="number" class="sub-credit" placeholder="Credit" value="1">
        `;
        list.appendChild(div);
    }

    function calcCGPA() {
        const grades = document.querySelectorAll('.sub-grade');
        const credits = document.querySelectorAll('.sub-credit');
        let totalPoints = 0;
        let totalCredits = 0;
        let count = 0;

        grades.forEach((g, i) => {
            const val = parseFloat(g.value);
            const cred = parseFloat(credits[i].value) || 1;
            if (!isNaN(val)) {
                totalPoints += (val * cred);
                totalCredits += cred;
                count++;
            }
        });

        const resBox = document.getElementById('res-cgpa');
        
        if (count === 0) {
            resBox.innerHTML = "Please enter at least one grade point.";
            return;
        }

        const cgpa = (totalPoints / totalCredits).toFixed(2);
        const estPerc = (cgpa * 9.5).toFixed(2); // Standard Conversion

        resBox.innerHTML = `Cumulative CGPA: <b style="color:var(--primary); font-size:1.3rem">${cgpa}</b><br>
                           <small>Est. Percentage: ${estPerc}%</small>`;
        resBox.classList.add('show');
    }
</script>

<style>
    /* Specific Styles for CGPA Builder */
    .dynamic-list { max-height: 200px; overflow-y: auto; margin-bottom: 10px; padding-right: 5px; }
    
    .subject-row { display: grid; grid-template-columns: 2fr 1fr; gap: 10px; margin-bottom: 10px; animation: fadeIn 0.3s ease; }
    
    .secondary-btn {
        flex: 1; padding: 12px; border: 1px dashed var(--text-dim); border-radius: 12px;
        background: transparent; color: var(--text-dim); cursor: pointer; transition: 0.3s;
    }
    .secondary-btn:hover { border-color: var(--primary); color: var(--primary); background: rgba(99, 102, 241, 0.05); }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
</style>
<div class="tool-card" data-category="physics" data-tool-id="suvat-pro" data-tags="physics kinematics motion velocity acceleration suvat jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(59, 130, 246, 0.1); color:#3b82f6">
            <i class="fas fa-running"></i>
        </div>
        <div class="tool-meta">
            <h3>SUVAT Intelligence</h3>
            <p>Solve Equations of Motion (1D).</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <label style="font-size:0.75rem; color:var(--text-dim); margin-bottom:5px; display:block;">Fill any 3 values to find the others:</label>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <input type="number" id="suvat-u" placeholder="u (Init Vel)">
                <input type="number" id="suvat-v" placeholder="v (Final Vel)">
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top:10px;">
                <input type="number" id="suvat-a" placeholder="a (Accel)">
                <input type="number" id="suvat-t" placeholder="t (Time)">
            </div>
            <div class="input-field" style="margin-top:10px;">
                <input type="number" id="suvat-s" placeholder="s (Displacement)">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#3b82f6" onclick="runSuvatPro()">
            <i class="fas fa-meteor"></i> Solve Mechanics
        </button>

        <div class="res-display" id="res-suvat">
            <span class="placeholder">Awaiting 3 inputs...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('suvat-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('suvat-pro', 'pdf')"><i class="fas fa-file-pdf"></i> Report</button>
    </div>
</div>

<div class="tool-card" data-category="physics" data-tool-id="projectile-pro" data-tags="physics projectile range height time motion jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(139, 92, 246, 0.1); color:#8b5cf6">
            <i class="fas fa-bullseye"></i>
        </div>
        <div class="tool-meta">
            <h3>Projectile Architect</h3>
            <p>Calculate Range, Height & Time.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="input-field">
                    <label>Velocity (u) m/s</label>
                    <input type="number" id="proj-u" placeholder="e.g. 50">
                </div>
                <div class="input-field">
                    <label>Angle (θ) deg</label>
                    <input type="number" id="proj-theta" placeholder="e.g. 45">
                </div>
            </div>
            <div class="input-field" style="margin-top:10px;">
                <label>Gravity (g) m/s²</label>
                <input type="number" id="proj-g" value="9.8">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#8b5cf6" onclick="runProjectilePro()">
            <i class="fas fa-location-arrow"></i> Trace Path
        </button>

        <div class="res-display" id="res-proj">
            <span class="placeholder">Enter launch data...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('projectile-pro', 'png')"><i class="fas fa-image"></i> Save Path</button>
    </div>
</div>

<script>
    // --- SUVAT LOGIC ---
    function runSuvatPro() {
        // Get values (NaN if empty)
        const u = parseFloat(document.getElementById('suvat-u').value);
        const v = parseFloat(document.getElementById('suvat-v').value);
        const a = parseFloat(document.getElementById('suvat-a').value);
        const t = parseFloat(document.getElementById('suvat-t').value);
        const s = parseFloat(document.getElementById('suvat-s').value);
        const res = document.getElementById('res-suvat');

        // Check which are numbers
        const isNum = (val) => !isNaN(val);
        
        // Scenario 1: Given u, a, t -> Find v, s
        if (isNum(u) && isNum(a) && isNum(t)) {
            const v_calc = u + (a * t);
            const s_calc = (u * t) + (0.5 * a * t * t);
            displaySuvatResult(res, { v: v_calc, s: s_calc });
        }
        // Scenario 2: Given u, v, t -> Find a, s
        else if (isNum(u) && isNum(v) && isNum(t)) {
            const a_calc = (v - u) / t;
            const s_calc = ((u + v) / 2) * t;
            displaySuvatResult(res, { a: a_calc, s: s_calc });
        }
        // Scenario 3: Given u, v, a -> Find s, t
        else if (isNum(u) && isNum(v) && isNum(a)) {
            // v^2 = u^2 + 2as => s = (v^2 - u^2) / 2a
            const s_calc = (Math.pow(v, 2) - Math.pow(u, 2)) / (2 * a);
            const t_calc = (v - u) / a;
            displaySuvatResult(res, { s: s_calc, t: t_calc });
        }
        // Scenario 4: Given u, a, s -> Find v, t
        else if (isNum(u) && isNum(a) && isNum(s)) {
            // v = sqrt(u^2 + 2as)
            const v_squared = Math.pow(u, 2) + (2 * a * s);
            if (v_squared < 0) { res.innerHTML = "Error: Imaginary Velocity"; return; }
            const v_calc = Math.sqrt(v_squared);
            const t_calc = (v_calc - u) / a;
            displaySuvatResult(res, { v: v_calc, t: t_calc });
        }
        else {
            res.innerHTML = "Please enter exactly 3 known variables.";
            res.classList.add('res-danger');
            res.classList.add('show');
        }
    }

    function displaySuvatResult(container, results) {
        let html = "";
        if (results.v !== undefined) html += `Final Vel (v): <b>${results.v.toFixed(2)} m/s</b><br>`;
        if (results.s !== undefined) html += `Disp (s): <b>${results.s.toFixed(2)} m</b><br>`;
        if (results.a !== undefined) html += `Accel (a): <b>${results.a.toFixed(2)} m/s²</b><br>`;
        if (results.t !== undefined) html += `Time (t): <b>${results.t.toFixed(2)} s</b>`;
        
        container.innerHTML = html;
        container.classList.remove('res-danger');
        container.classList.add('show');
    }

    // --- PROJECTILE LOGIC ---
    function runProjectilePro() {
        const u = parseFloat(document.getElementById('proj-u').value);
        const theta = parseFloat(document.getElementById('proj-theta').value);
        const g = parseFloat(document.getElementById('proj-g').value) || 9.8;
        const res = document.getElementById('res-proj');

        if (isNaN(u) || isNaN(theta)) return;

        // Convert Degrees to Radians
        const rad = theta * (Math.PI / 180);

        // Formulas
        const T = (2 * u * Math.sin(rad)) / g;
        const H = (Math.pow(u, 2) * Math.pow(Math.sin(rad), 2)) / (2 * g);
        const R = (Math.pow(u, 2) * Math.sin(2 * rad)) / g;

        res.innerHTML = `Range (R): <b style="color:#8b5cf6">${R.toFixed(2)} m</b><br>
                        Max Height (H): <b>${H.toFixed(2)} m</b><br>
                        Flight Time (T): <b>${T.toFixed(2)} s</b>`;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="math" data-tool-id="quadratic-pro" data-tags="math algebra quadratic equation roots complex jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(239, 68, 68, 0.1); color:#ef4444">
            <i class="fas fa-square-root-variable"></i>
        </div>
        <div class="tool-meta">
            <h3>Quadratic Intelligence</h3>
            <p>Solve ax² + bx + c = 0 (Real/Imaginary).</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <label style="font-size:0.75rem; color:var(--text-dim); margin-bottom:5px; display:block;">Coefficients (a, b, c):</label>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px;">
                <input type="number" id="quad-a" placeholder="a">
                <input type="number" id="quad-b" placeholder="b">
                <input type="number" id="quad-c" placeholder="c">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#ef4444" onclick="runQuadPro()">
            <i class="fas fa-xmarks-lines"></i> Find Roots
        </button>

        <div class="res-display" id="res-quad">
            <span class="placeholder">Enter coefficients...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('quadratic-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('quadratic-pro', 'pdf')"><i class="fas fa-file-pdf"></i> Report</button>
    </div>
</div>

<div class="tool-card" data-category="math" data-tool-id="ap-pro" data-tags="math algebra sequence series ap sum jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(16, 185, 129, 0.1); color:#10b981">
            <i class="fas fa-arrow-down-1-9"></i>
        </div>
        <div class="tool-meta">
            <h3>AP Sequence Master</h3>
            <p>Find Nth Term & Sum of Series.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="input-field">
                    <label>First Term (a)</label>
                    <input type="number" id="ap-a" placeholder="e.g. 2">
                </div>
                <div class="input-field">
                    <label>Diff (d)</label>
                    <input type="number" id="ap-d" placeholder="e.g. 3">
                </div>
            </div>
            <div class="input-field" style="margin-top:10px;">
                <label>Term Position (n)</label>
                <input type="number" id="ap-n" placeholder="e.g. 10">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#10b981" onclick="runApPro()">
            <i class="fas fa-calculator"></i> Calculate Series
        </button>

        <div class="res-display" id="res-ap">
            <span class="placeholder">Enter series data...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('ap-pro', 'png')"><i class="fas fa-image"></i> Save Result</button>
    </div>
</div>

<script>
    // --- QUADRATIC LOGIC ---
    function runQuadPro() {
        const a = parseFloat(document.getElementById('quad-a').value);
        const b = parseFloat(document.getElementById('quad-b').value);
        const c = parseFloat(document.getElementById('quad-c').value);
        const res = document.getElementById('res-quad');

        if (isNaN(a) || isNaN(b) || isNaN(c)) return;
        if (a === 0) {
            res.innerHTML = "Not a quadratic equation (a cannot be 0).";
            return;
        }

        const d = (b * b) - (4 * a * c); // Discriminant
        let output = `Discriminant (D): <b>${d}</b><br>`;

        if (d > 0) {
            const r1 = ((-b + Math.sqrt(d)) / (2 * a)).toFixed(4);
            const r2 = ((-b - Math.sqrt(d)) / (2 * a)).toFixed(4);
            output += `Roots are Real & Distinct:<br><b style="color:#ef4444">x₁ = ${r1}</b><br><b style="color:#ef4444">x₂ = ${r2}</b>`;
        } else if (d === 0) {
            const r = (-b / (2 * a)).toFixed(4);
            output += `Roots are Real & Equal:<br><b style="color:#ef4444">x = ${r}</b>`;
        } else {
            const realPart = (-b / (2 * a)).toFixed(4);
            const imagPart = (Math.sqrt(-d) / (2 * a)).toFixed(4);
            output += `Roots are Complex:<br><b style="color:#ef4444">x = ${realPart} ± ${imagPart}i</b>`;
        }

        res.innerHTML = output;
        res.classList.add('show');
    }

    // --- AP SEQUENCE LOGIC ---
    function runApPro() {
        const a = parseFloat(document.getElementById('ap-a').value);
        const d = parseFloat(document.getElementById('ap-d').value);
        const n = parseFloat(document.getElementById('ap-n').value);
        const res = document.getElementById('res-ap');

        if (isNaN(a) || isNaN(d) || isNaN(n)) return;

        const tn = a + (n - 1) * d;
        const sn = (n / 2) * (2 * a + (n - 1) * d);

        res.innerHTML = `
            ${n}th Term (Tn): <b style="color:#10b981; font-size:1.2rem">${tn}</b><br>
            Sum of ${n} Terms (Sn): <b>${sn}</b>
        `;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="chemistry" data-tool-id="chem-conc-pro" data-tags="chemistry molarity molality normality solution pcm jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(99, 102, 241, 0.1); color:var(--primary)">
            <i class="fas fa-flask"></i>
        </div>
        <div class="tool-meta">
            <h3>Solution Architect</h3>
            <p>Calculate Molarity, Molality & Normality.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="input-field">
                    <label>Solute Mass (g)</label>
                    <input type="number" id="chem-mass" placeholder="w">
                </div>
                <div class="input-field">
                    <label>Molar Mass (g/mol)</label>
                    <input type="number" id="chem-mm" placeholder="Mw">
                </div>
            </div>
            <div class="input-field" style="margin-top:10px;">
                <label>Volume of Solution (mL)</label>
                <input type="number" id="chem-vol" placeholder="V (in mL)">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:var(--primary)" onclick="runChemConcPro()">
            <i class="fas fa-vial"></i> Analyze Concentration
        </button>

        <div class="res-display" id="res-conc">
            <span class="placeholder">Enter solute data...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('chem-conc-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('chem-conc-pro', 'pdf')"><i class="fas fa-file-pdf"></i> Report</button>
    </div>
</div>

<div class="tool-card" data-category="chemistry" data-tool-id="gas-law-pro" data-tags="chemistry gas law pv=nrt pressure volume temperature jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(245, 158, 11, 0.1); color:#f59e0b">
            <i class="fas fa-cloud"></i>
        </div>
        <div class="tool-meta">
            <h3>Ideal Gas Solver</h3>
            <p>Solve PV = nRT (Universal Gas Law).</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <label style="font-size:0.75rem; color:var(--text-dim); margin-bottom:5px; display:block;">Leave the unknown field empty:</label>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                <input type="number" id="gas-p" placeholder="P (atm)">
                <input type="number" id="gas-v" placeholder="V (L)">
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top:10px;">
                <input type="number" id="gas-n" placeholder="n (moles)">
                <input type="number" id="gas-t" placeholder="T (Kelvin)">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#f59e0b" onclick="runGasLawPro()">
            <i class="fas fa-wind"></i> Solve Gas Law
        </button>

        <div class="res-display" id="res-gas">
            <span class="placeholder">Fill 3 values...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('gas-law-pro', 'png')"><i class="fas fa-image"></i> Save Result</button>
    </div>
</div>

<script>
    // --- CONCENTRATION LOGIC ---
    function runChemConcPro() {
        const w = parseFloat(document.getElementById('chem-mass').value);
        const mw = parseFloat(document.getElementById('chem-mm').value);
        const v = parseFloat(document.getElementById('chem-vol').value);
        const res = document.getElementById('res-conc');

        if (isNaN(w) || isNaN(mw) || isNaN(v)) return;

        // Molarity = (w / mw) * (1000 / v)
        const moles = w / mw;
        const molarity = (moles * 1000) / v;
        const strength = (w * 1000) / v; // g/L

        res.innerHTML = `Molarity (M): <b style="color:var(--primary); font-size:1.2rem">${molarity.toFixed(4)} mol/L</b><br>
                        Moles (n): <b>${moles.toFixed(4)} mol</b><br>
                        <small>Strength: ${strength.toFixed(2)} g/L</small>`;
        res.classList.add('show');
    }

    // --- GAS LAW LOGIC ---
    function runGasLawPro() {
        const p = parseFloat(document.getElementById('gas-p').value);
        const v = parseFloat(document.getElementById('gas-v').value);
        const n = parseFloat(document.getElementById('gas-n').value);
        const t = parseFloat(document.getElementById('gas-t').value);
        const res = document.getElementById('res-gas');
        const R = 0.0821; // L.atm/(mol.K)

        const isNum = (val) => !isNaN(val);

        if (isNum(v) && isNum(n) && isNum(t)) {
            // Find P = nRT / V
            const p_calc = (n * R * t) / v;
            res.innerHTML = `Pressure (P): <b>${p_calc.toFixed(4)} atm</b>`;
        } else if (isNum(p) && isNum(n) && isNum(t)) {
            // Find V = nRT / P
            const v_calc = (n * R * t) / p;
            res.innerHTML = `Volume (V): <b>${v_calc.toFixed(4)} L</b>`;
        } else if (isNum(p) && isNum(v) && isNum(t)) {
            // Find n = PV / RT
            const n_calc = (p * v) / (R * t);
            res.innerHTML = `Moles (n): <b>${n_calc.toFixed(4)} mol</b>`;
        } else if (isNum(p) && isNum(v) && isNum(n)) {
            // Find T = PV / nR
            const t_calc = (p * v) / (n * R);
            res.innerHTML = `Temperature (T): <b>${t_calc.toFixed(2)} K</b>`;
        } else {
            res.innerHTML = "Please enter exactly 3 known variables.";
            return;
        }
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="finance" data-tool-id="sip-pro" data-tags="finance sip investment money mutual fund compound pcm">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(16, 185, 129, 0.1); color:#10b981">
            <i class="fas fa-chart-line"></i>
        </div>
        <div class="tool-meta">
            <h3>SIP Forecaster</h3>
            <p>Calculate Future Value of Monthly Investments.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Monthly Investment (₹)</label>
                <input type="number" id="sip-p" placeholder="e.g. 5000">
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top:10px;">
                <div class="input-field">
                    <label>Return Rate (%)</label>
                    <input type="number" id="sip-r" placeholder="e.g. 12">
                </div>
                <div class="input-field">
                    <label>Duration (Years)</label>
                    <input type="number" id="sip-t" placeholder="e.g. 10">
                </div>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#10b981" onclick="runSipPro()">
            <i class="fas fa-coins"></i> Project Wealth
        </button>

        <div class="res-display" id="res-sip">
            <span class="placeholder">Enter investment plan...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('sip-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('sip-pro', 'pdf')"><i class="fas fa-file-pdf"></i> Report</button>
    </div>
</div>

<div class="tool-card" data-category="finance" data-tool-id="ci-pro" data-tags="finance compound interest loan banking commerce">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(79, 70, 229, 0.1); color:#4f46e5">
            <i class="fas fa-percent"></i>
        </div>
        <div class="tool-meta">
            <h3>Compound Interest</h3>
            <p>Calculate CI with flexible frequency.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="input-field">
                    <label>Principal (₹)</label>
                    <input type="number" id="ci-p" placeholder="P">
                </div>
                <div class="input-field">
                    <label>Rate (%)</label>
                    <input type="number" id="ci-r" placeholder="R">
                </div>
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top:10px;">
                <div class="input-field">
                    <label>Years (t)</label>
                    <input type="number" id="ci-t" placeholder="t">
                </div>
                <div class="input-field">
                    <label>Frequency</label>
                    <select id="ci-n" style="padding:12px;">
                        <option value="1">Yearly</option>
                        <option value="2">Half-Yearly</option>
                        <option value="4">Quarterly</option>
                        <option value="12">Monthly</option>
                    </select>
                </div>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#4f46e5" onclick="runCiPro()">
            <i class="fas fa-wallet"></i> Calculate Amount
        </button>

        <div class="res-display" id="res-ci">
            <span class="placeholder">Enter principal details...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('ci-pro', 'png')"><i class="fas fa-image"></i> Save Result</button>
    </div>
</div>

<script>
    // --- SIP LOGIC ---
    function runSipPro() {
        const p = parseFloat(document.getElementById('sip-p').value);
        const r = parseFloat(document.getElementById('sip-r').value);
        const t = parseFloat(document.getElementById('sip-t').value);
        const res = document.getElementById('res-sip');

        if (isNaN(p) || isNaN(r) || isNaN(t)) return;

        // SIP Formula: P * ({[1 + i]^n - 1} / i) * (1 + i)
        const i = r / 12 / 100; // Monthly rate
        const n = t * 12; // Total months

        const totalValue = p * ((Math.pow(1 + i, n) - 1) / i) * (1 + i);
        const invested = p * n;
        const profit = totalValue - invested;

        res.innerHTML = `Maturity Value: <b style="color:#10b981; font-size:1.2rem">₹${Math.round(totalValue).toLocaleString('en-IN')}</b><br>
                        <small>Invested: ₹${invested.toLocaleString('en-IN')}</small><br>
                        <small style="color:#10b981">Wealth Gained: +₹${Math.round(profit).toLocaleString('en-IN')}</small>`;
        res.classList.add('show');
    }

    // --- COMPOUND INTEREST LOGIC ---
    function runCiPro() {
        const p = parseFloat(document.getElementById('ci-p').value);
        const r = parseFloat(document.getElementById('ci-r').value);
        const t = parseFloat(document.getElementById('ci-t').value);
        const n = parseFloat(document.getElementById('ci-n').value);
        const res = document.getElementById('res-ci');

        if (isNaN(p) || isNaN(r) || isNaN(t)) return;

        // CI Formula: A = P(1 + r/n)^(nt)
        const amount = p * Math.pow((1 + (r / 100) / n), (n * t));
        const interest = amount - p;

        res.innerHTML = `Total Amount: <b style="color:#4f46e5; font-size:1.2rem">₹${amount.toFixed(2)}</b><br>
                        Interest Earned: <b style="color:#10b981">₹${interest.toFixed(2)}</b>`;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="chemistry" data-tool-id="iupac-pro" data-tags="chemistry organic iupac naming carbon alkane alcohol pcm">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(16, 185, 129, 0.1); color:#10b981">
            <i class="fas fa-leaf"></i>
        </div>
        <div class="tool-meta">
            <h3>IUPAC Assistant</h3>
            <p>Construct names for Carbon Compounds.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Carbon Chain Length (1-10)</label>
                <input type="range" id="chem-c-len" min="1" max="10" value="1" oninput="updateRangeVal(this.value)">
                <div style="text-align:right; font-size:0.8rem; color:var(--primary); font-weight:bold;" id="range-disp">1 Carbon (Meth)</div>
            </div>
            
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top:15px;">
                <div class="input-field">
                    <label>Bond Type</label>
                    <select id="chem-bond">
                        <option value="ane">Single (-ane)</option>
                        <option value="ene">Double (-ene)</option>
                        <option value="yne">Triple (-yne)</option>
                    </select>
                </div>
                <div class="input-field">
                    <label>Functional Group</label>
                    <select id="chem-func">
                        <option value="">None (Hydrocarbon)</option>
                        <option value="ol">Alcohol (-OH)</option>
                        <option value="al">Aldehyde (-CHO)</option>
                        <option value="oic acid">Carboxylic Acid (-COOH)</option>
                        <option value="one">Ketone (>C=O)</option>
                        <option value="amine">Amine (-NH2)</option>
                    </select>
                </div>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#10b981" onclick="runIupacPro()">
            <i class="fas fa-signature"></i> Generate Name
        </button>

        <div class="res-display" id="res-iupac">
            <span class="placeholder">Select structure details...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('iupac-pro', 'png')"><i class="fas fa-image"></i> Save Card</button>
    </div>
</div>

<div class="tool-card" data-category="chemistry" data-tool-id="mol-mass-pro" data-tags="chemistry molar mass molecular weight stoichiometry pcm">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(99, 102, 241, 0.1); color:var(--primary)">
            <i class="fas fa-weight-hanging"></i>
        </div>
        <div class="tool-meta">
            <h3>Molar Mass Architect</h3>
            <p>Calculate weight from Formula (e.g. H2SO4).</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Chemical Formula</label>
                <input type="text" id="chem-formula" placeholder="e.g. C6H12O6 or NaCl">
            </div>
        </div>
        
        <button class="primary-calc-btn" onclick="runMolMassPro()">
            <i class="fas fa-atom"></i> Calculate Mass
        </button>

        <div class="res-display" id="res-mol">
            <span class="placeholder">Enter formula (case sensitive)...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('mol-mass-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('mol-mass-pro', 'pdf')"><i class="fas fa-file-pdf"></i> Report</button>
    </div>
</div>

<script>
    // --- IUPAC LOGIC ---
    const prefixes = ["", "Meth", "Eth", "Prop", "But", "Pent", "Hex", "Hept", "Oct", "Non", "Dec"];

    function updateRangeVal(val) {
        document.getElementById('range-disp').innerText = `${val} Carbon${val > 1 ? 's' : ''} (${prefixes[val]})`;
    }

    function runIupacPro() {
        const c = parseInt(document.getElementById('chem-c-len').value);
        const bond = document.getElementById('chem-bond').value;
        const func = document.getElementById('chem-func').value;
        const res = document.getElementById('res-iupac');

        let root = prefixes[c];
        let suffix = bond;
        let secondary = func;

        // IUPAC Rule: If secondary suffix starts with vowel, drop 'e' from primary suffix
        if (secondary && (secondary.startsWith('o') || secondary.startsWith('a') || secondary.startsWith('i'))) {
            suffix = suffix.slice(0, -1);
        }

        // Special handling for Meth/Eth with double/triple bonds (physically impossible sometimes, but strictly theoretically)
        if (c === 1 && (bond === 'ene' || bond === 'yne')) {
            res.innerHTML = "Error: Methene/Methyne is unstable/impossible.";
            res.classList.add('show');
            return;
        }

        let fullName = `${root}${suffix}${secondary ? '-' + secondary : ''}`;
        // Clean up formatting
        fullName = fullName.replace('-', ''); // Remove dash if purely attached

        // Proper capitalization
        // Example: Ethanol, Propanoic acid
        if (secondary === 'oic acid') fullName = `${root}${suffix}oic Acid`;
        else fullName = root + suffix + secondary;

        res.innerHTML = `IUPAC Name: <b style="color:#10b981; font-size:1.3rem">${fullName}</b><br>
                        <small>Structure: C${c} Chain + ${bond} bond + ${func || 'H'}</small>`;
        res.classList.add('show');
    }

    // --- MOLAR MASS LOGIC ---
    // Minimal Periodic Table for common elements
    const atomMass = {
        H: 1.008, He: 4.003, Li: 6.941, Be: 9.012, B: 10.81, C: 12.01, N: 14.007, O: 15.999,
        F: 18.998, Ne: 20.18, Na: 22.99, Mg: 24.305, Al: 26.98, Si: 28.086, P: 30.97, S: 32.065,
        Cl: 35.453, K: 39.098, Ca: 40.078, Fe: 55.845, Cu: 63.546, Zn: 65.38, Br: 79.904,
        Ag: 107.868, I: 126.904, Ba: 137.327, Au: 196.967, Pb: 207.2, U: 238.029
    };

    function runMolMassPro() {
        const formula = document.getElementById('chem-formula').value.trim();
        const res = document.getElementById('res-mol');

        if (!formula) return;

        let totalMass = 0;
        let breakdown = "";
        
        // Regex to match Element and Count (e.g., C6, H12)
        const regex = /([A-Z][a-z]?)(\d*)/g;
        let match;
        let valid = false;

        while ((match = regex.exec(formula)) !== null) {
            valid = true;
            const element = match[1];
            const count = parseInt(match[2] || 1); // Default to 1 if no number
            
            if (atomMass[element]) {
                const mass = atomMass[element] * count;
                totalMass += mass;
                breakdown += `${element}: ${count} × ${atomMass[element]} = ${mass.toFixed(2)}<br>`;
            } else {
                res.innerHTML = `Error: Element '${element}' not in database or invalid.`;
                res.classList.add('show');
                return;
            }
        }

        if (!valid) {
            res.innerHTML = "Invalid Format. Use C6H12O6 format.";
            return;
        }

        res.innerHTML = `Molar Mass: <b style="color:var(--primary); font-size:1.3rem">${totalMass.toFixed(3)} g/mol</b><br>
                        <hr style="border:0; border-top:1px solid var(--border-glass); margin:5px 0;">
                        <small>${breakdown}</small>`;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="physics" data-tool-id="optics-pro" data-tags="physics optics lens mirror magnification pcm jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(99, 102, 241, 0.1); color:var(--primary)">
            <i class="fas fa-glasses"></i>
        </div>
        <div class="tool-meta">
            <h3>Optics Architect</h3>
            <p>Solve Lens/Mirror formulas with Sign Convention.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Instrument Type</label>
                <select id="optics-mode">
                    <option value="mirror">Spherical Mirror (1/v + 1/u = 1/f)</option>
                    <option value="lens">Thin Lens (1/v - 1/u = 1/f)</option>
                </select>
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 15px;">
                <div class="input-group"><label>Focal Length (f)</label><input type="number" id="opt-f" placeholder="f"></div>
                <div class="input-group"><label>Object Dist (u)</label><input type="number" id="opt-u" placeholder="u (usually negative)"></div>
            </div>
        </div>
        
        <button class="primary-calc-btn" onclick="runOpticsPro()">
            <i class="fas fa-eye"></i> Trace Image
        </button>

        <div class="res-display" id="res-optics">
            <span class="placeholder">Enter distances (cm/m)...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('optics-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('optics-pro', 'pdf')"><i class="fas fa-file-pdf"></i> PDF</button>
    </div>
</div>

<div class="tool-card" data-category="physics" data-tool-id="wave-pro" data-tags="physics waves frequency wavelength speed pcm jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(239, 68, 68, 0.1); color:#ef4444">
            <i class="fas fa-wave-square"></i>
        </div>
        <div class="tool-meta">
            <h3>Wave-Frequency Bridge</h3>
            <p>Sync Velocity, Frequency & Wavelength.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Wave Velocity (v) m/s</label>
                <input type="number" id="wv-v" placeholder="e.g. 3e8 for light" value="300000000">
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;">
                <div class="input-field">
                    <label>Frequency (f) Hz</label>
                    <input type="number" id="wv-f" placeholder="f" oninput="syncWave('f')">
                </div>
                <div class="input-field">
                    <label>Wavelength (λ) m</label>
                    <input type="number" id="wv-l" placeholder="λ" oninput="syncWave('l')">
                </div>
            </div>
        </div>
        
        <div class="res-display show res-success" id="res-wave-info" style="font-size: 0.8rem;">
            Enter values to sync wave data...
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('wave-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
    </div>
</div>

<script>
    // --- OPTICS LOGIC ---
    function runOpticsPro() {
        const mode = document.getElementById('optics-mode').value;
        const f = parseFloat(document.getElementById('opt-f').value);
        const u = parseFloat(document.getElementById('opt-u').value);
        const res = document.getElementById('res-optics');

        if (isNaN(f) || isNaN(u) || u === 0) return;

        let v;
        if (mode === 'mirror') {
            v = 1 / ((1 / f) - (1 / u));
        } else {
            v = 1 / ((1 / f) + (1 / u));
        }

        const m = -(v / u); // Magnification
        let nature = m > 0 ? "Virtual & Erect" : "Real & Inverted";
        let size = Math.abs(m) > 1 ? "Magnified" : "Diminished";

        res.innerHTML = `Image Distance (v): <b>${v.toFixed(2)}</b><br>
                        Magnification (m): <b>${m.toFixed(2)}</b><br>
                        Nature: <b style="color:var(--primary)">${nature} (${size})</b>`;
        res.classList.add('show');
    }

    // --- WAVE SYNC LOGIC ---
    function syncWave(source) {
        const v = parseFloat(document.getElementById('wv-v').value);
        const fIn = document.getElementById('wv-f');
        const lIn = document.getElementById('wv-l');
        const info = document.getElementById('res-wave-info');

        if (isNaN(v) || v === 0) return;

        if (source === 'f') {
            const f = parseFloat(fIn.value);
            if (!isNaN(f) && f !== 0) {
                lIn.value = (v / f).toExponential(3);
            }
        } else {
            const l = parseFloat(lIn.value);
            if (!isNaN(l) && l !== 0) {
                fIn.value = (v / l).toExponential(3);
            }
        }
        
        info.innerHTML = `Calculation: <b>v = f × λ</b><br>Result in scientific notation.`;
    }
</script>
<div class="tool-card" data-category="math" data-tool-id="vector-pro" data-tags="math vector dot cross product physics pcm jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(139, 92, 246, 0.1); color:#8b5cf6">
            <i class="fas fa-arrows-to-dot"></i>
        </div>
        <div class="tool-meta">
            <h3>Vector Ops Master</h3>
            <p>Calculate Dot/Cross Product & Angle.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <label style="font-size:0.7rem; color:var(--text-dim);">VECTOR A (xi + yj + zk)</label>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px;">
                <input type="number" id="vax" placeholder="x">
                <input type="number" id="vay" placeholder="y">
                <input type="number" id="vaz" placeholder="z">
            </div>
            <label style="font-size:0.7rem; color:var(--text-dim); margin-top:10px; display:block;">VECTOR B (xi + yj + zk)</label>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px;">
                <input type="number" id="vbx" placeholder="x">
                <input type="number" id="vby" placeholder="y">
                <input type="number" id="vbz" placeholder="z">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#8b5cf6" onclick="runVectorPro()">
            <i class="fas fa-compass"></i> Compute Vectors
        </button>

        <div class="res-display" id="res-vector">
            <span class="placeholder">Awaiting components...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('vector-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('vector-pro', 'pdf')"><i class="fas fa-file-pdf"></i> PDF</button>
    </div>
</div>

<div class="tool-card" data-category="math" data-tool-id="dist3d-pro" data-tags="math geometry 3d distance coordinate pcm jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(16, 185, 129, 0.1); color:#10b981">
            <i class="fas fa-cube"></i>
        </div>
        <div class="tool-meta">
            <h3>3D Distance Pro</h3>
            <p>Find distance between two 3D points.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px;">
                <input type="number" id="p1x" placeholder="x1">
                <input type="number" id="p1y" placeholder="y1">
                <input type="number" id="p1z" placeholder="z1">
            </div>
            <div style="text-align:center; font-size:0.7rem; margin:5px 0;">to</div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px;">
                <input type="number" id="p2x" placeholder="x2">
                <input type="number" id="p2y" placeholder="y2">
                <input type="number" id="p2z" placeholder="z2">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#10b981; margin-top:15px;" onclick="runDist3DPro()">
            <i class="fas fa-ruler-combined"></i> Calculate Distance
        </button>

        <div class="res-display" id="res-dist3d">
            <span class="placeholder">Enter coordinates...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('dist3d-pro', 'png')"><i class="fas fa-image"></i> Save PNG</button>
    </div>
</div>

<script>
    // --- VECTOR LOGIC ---
    function runVectorPro() {
        const ax = parseFloat(document.getElementById('vax').value) || 0;
        const ay = parseFloat(document.getElementById('vay').value) || 0;
        const az = parseFloat(document.getElementById('vaz').value) || 0;
        const bx = parseFloat(document.getElementById('vbx').value) || 0;
        const by = parseFloat(document.getElementById('vby').value) || 0;
        const bz = parseFloat(document.getElementById('vbz').value) || 0;
        const res = document.getElementById('res-vector');

        // Dot Product
        const dot = (ax * bx) + (ay * by) + (az * bz);
        
        // Cross Product
        const cx = (ay * bz) - (az * by);
        const cy = (az * bx) - (ax * bz);
        const cz = (ax * by) - (ay * bx);

        // Angle
        const magA = Math.sqrt(ax*ax + ay*ay + az*az);
        const magB = Math.sqrt(bx*bx + by*by + bz*bz);
        const cosTheta = dot / (magA * magB);
        const angle = (Math.acos(cosTheta) * (180 / Math.PI)).toFixed(2);

        res.innerHTML = `Dot Product: <b>${dot}</b><br>
                        Cross: <b style="color:#8b5cf6">${cx}i + ${cy}j + ${cz}k</b><br>
                        Angle θ: <b>${angle}°</b>`;
        res.classList.add('show');
    }

    // --- 3D DISTANCE LOGIC ---
    function runDist3DPro() {
        const x1 = parseFloat(document.getElementById('p1x').value) || 0;
        const y1 = parseFloat(document.getElementById('p1y').value) || 0;
        const z1 = parseFloat(document.getElementById('p1z').value) || 0;
        const x2 = parseFloat(document.getElementById('p2x').value) || 0;
        const y2 = parseFloat(document.getElementById('p2y').value) || 0;
        const z2 = parseFloat(document.getElementById('p2z').value) || 0;
        const res = document.getElementById('res-dist3d');

        const dist = Math.sqrt(Math.pow(x2-x1, 2) + Math.pow(y2-y1, 2) + Math.pow(z2-z1, 2));

        res.innerHTML = `Distance (d): <b style="font-size:1.2rem; color:#10b981">${dist.toFixed(4)} units</b>`;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="physics" data-tool-id="decay-pro" data-tags="physics modern nuclear half life radioactivity pcm jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(239, 68, 68, 0.1); color:#ef4444">
            <i class="fas fa-atom"></i>
        </div>
        <div class="tool-meta">
            <h3>Radioactive Decay Pro</h3>
            <p>Solve Remaining Amount & Half-Life.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Initial Amount (N₀)</label>
                <input type="number" id="dec-n0" placeholder="e.g. 100">
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 10px;">
                <div class="input-group"><label>Half-Life (T½)</label><input type="number" id="dec-th" placeholder="Time"></div>
                <div class="input-group"><label>Time Passed (t)</label><input type="number" id="dec-t" placeholder="Time"></div>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#ef4444" onclick="runDecayPro()">
            <i class="fas fa-radiation"></i> Calculate Decay
        </button>

        <div class="res-display" id="res-decay">
            <span class="placeholder">Enter N₀, T½, and t...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('decay-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('decay-pro', 'pdf')"><i class="fas fa-file-pdf"></i> PDF</button>
    </div>
</div>

<div class="tool-card" data-category="physics" data-tool-id="db-pro" data-tags="physics modern quantum de broglie pcm jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(59, 130, 246, 0.1); color:#3b82f6">
            <i class="fas fa-wave-square"></i>
        </div>
        <div class="tool-meta">
            <h3>Quantum Wave Master</h3>
            <p>Solve De Broglie λ for particles.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Mass (kg)</label>
                <input type="number" id="db-m" placeholder="e.g. 9.1e-31 for electron">
            </div>
            <div class="input-field" style="margin-top:10px;">
                <label>Velocity (v) m/s</label>
                <input type="number" id="db-v" placeholder="e.g. 2e6">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#3b82f6" onclick="runDbPro()">
            <i class="fas fa-bolt-lightning"></i> Find Wavelength
        </button>

        <div class="res-display" id="res-db">
            <span class="placeholder">Awaiting particle data...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('db-pro', 'png')"><i class="fas fa-image"></i> Save PNG</button>
    </div>
</div>

<script>
    // --- DECAY LOGIC ---
    function runDecayPro() {
        const n0 = parseFloat(document.getElementById('dec-n0').value);
        const th = parseFloat(document.getElementById('dec-th').value);
        const t = parseFloat(document.getElementById('dec-t').value);
        const res = document.getElementById('res-decay');

        if (isNaN(n0) || isNaN(th) || isNaN(t)) return;

        const n = n0 * Math.pow(0.5, (t / th));
        const decayConst = 0.693 / th;

        res.innerHTML = `Remaining (N): <b style="color:#ef4444">${n.toFixed(4)}</b><br>
                        Decay Constant (λ): <b>${decayConst.toFixed(5)} /unit time</b>`;
        res.classList.add('show');
    }

    // --- DE BROGLIE LOGIC ---
    function runDbPro() {
        const m = parseFloat(document.getElementById('db-m').value);
        const v = parseFloat(document.getElementById('db-v').value);
        const res = document.getElementById('res-db');
        const h = 6.626e-34; // Planck's constant

        if (isNaN(m) || isNaN(v) || v === 0) return;

        const lambda = h / (m * v);

        res.innerHTML = `Wavelength (λ): <b style="color:#3b82f6">${lambda.toExponential(4)} m</b><br>
                        <small>Momentum (p): ${(m * v).toExponential(2)} kg·m/s</small>`;
        res.classList.add('show');
    }
</script>

<div class="tool-card" data-category="utility" data-tool-id="temp-pro" data-tags="physics chemistry temperature celsius fahrenheit kelvin conversion">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(239, 68, 68, 0.1); color:#ef4444">
            <i class="fas fa-temperature-high"></i>
        </div>
        <div class="tool-meta">
            <h3>Temperature Master</h3>
            <p>Sync C, F, and Kelvin instantly.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Celsius (°C)</label>
                <input type="number" id="temp-c" placeholder="e.g. 0" oninput="syncTemp('c')">
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;">
                <div class="input-field">
                    <label>Fahrenheit (°F)</label>
                    <input type="number" id="temp-f" placeholder="32" oninput="syncTemp('f')">
                </div>
                <div class="input-field">
                    <label>Kelvin (K)</label>
                    <input type="number" id="temp-k" placeholder="273.15" oninput="syncTemp('k')">
                </div>
            </div>
        </div>
        
        <div class="res-display show" id="res-temp" style="margin-top:20px; text-align:center;">
            <i class="fas fa-snowflake" style="color:#3b82f6;"></i> Water Freezing Point
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('temp-pro', 'png')"><i class="fas fa-image"></i> Save PNG</button>
    </div>
</div>

<div class="tool-card" data-category="physics" data-tool-id="prefix-master" data-tags="physics units nano micro milli kilo mega giga conversion">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(16, 185, 129, 0.1); color:#10b981">
            <i class="fas fa-microscope"></i>
        </div>
        <div class="tool-meta">
            <h3>Prefix Transformer</h3>
            <p>Nano, Micro, Milli ⇄ Base Unit.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 2fr 1fr; gap: 10px;">
                <div class="input-field">
                    <label>Value</label>
                    <input type="number" id="px-val" placeholder="e.g. 1">
                </div>
                <div class="input-field">
                    <label>Unit</label>
                    <select id="px-unit" onchange="runPrefixPro()">
                        <option value="1">Base (m/g)</option>
                        <option value="1e-3">Milli (m)</option>
                        <option value="1e-6">Micro (μ)</option>
                        <option value="1e-9">Nano (n)</option>
                        <option value="1e3">Kilo (k)</option>
                        <option value="1e6">Mega (M)</option>
                        <option value="1e9">Giga (G)</option>
                    </select>
                </div>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#10b981; margin-top:15px;" onclick="runPrefixPro()">
            <i class="fas fa-ruler-horizontal"></i> Convert All
        </button>

        <div class="res-display" id="res-prefix">
            <span class="placeholder">Enter value to scale...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('prefix-master', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('prefix-master', 'pdf')"><i class="fas fa-file-pdf"></i> PDF</button>
    </div>
</div>

<script>
    // --- TEMPERATURE SYNC LOGIC ---
    function syncTemp(source) {
        const cIn = document.getElementById('temp-c');
        const fIn = document.getElementById('temp-f');
        const kIn = document.getElementById('temp-k');
        const info = document.getElementById('res-temp');

        let c, f, k;

        if (source === 'c') {
            c = parseFloat(cIn.value);
            f = (c * 9/5) + 32;
            k = c + 273.15;
            fIn.value = isNaN(f) ? '' : f.toFixed(2);
            kIn.value = isNaN(k) ? '' : k.toFixed(2);
        } else if (source === 'f') {
            f = parseFloat(fIn.value);
            c = (f - 32) * 5/9;
            k = c + 273.15;
            cIn.value = isNaN(c) ? '' : c.toFixed(2);
            kIn.value = isNaN(k) ? '' : k.toFixed(2);
        } else if (source === 'k') {
            k = parseFloat(kIn.value);
            c = k - 273.15;
            f = (c * 9/5) + 32;
            cIn.value = isNaN(c) ? '' : c.toFixed(2);
            fIn.value = isNaN(f) ? '' : f.toFixed(2);
        }

        // Dynamic Visual Feedback
        if (!isNaN(c)) {
            if (c <= 0) info.innerHTML = '<i class="fas fa-snowflake" style="color:#3b82f6;"></i> Freezing / Cold';
            else if (c >= 100) info.innerHTML = '<i class="fas fa-fire" style="color:#ef4444;"></i> Boiling / Hot';
            else if (c >= 30) info.innerHTML = '<i class="fas fa-sun" style="color:#f59e0b;"></i> Warm';
            else info.innerHTML = '<i class="fas fa-cloud" style="color:#10b981;"></i> Moderate';
        } else {
            info.innerHTML = 'Enter any value to sync...';
        }
    }

    // --- PREFIX TRANSFORMER LOGIC ---
    function runPrefixPro() {
        const val = parseFloat(document.getElementById('px-val').value);
        const multiplier = parseFloat(document.getElementById('px-unit').value);
        const res = document.getElementById('res-prefix');

        if (isNaN(val)) return;

        // Convert input to Base Units first
        const base = val * multiplier;

        res.innerHTML = `
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; font-size:0.9rem;">
                <div>Nano (n): <b style="color:#ef4444">${(base / 1e-9).toExponential(2)}</b></div>
                <div>Micro (μ): <b style="color:#f59e0b">${(base / 1e-6).toExponential(2)}</b></div>
                <div>Milli (m): <b style="color:#10b981">${(base / 1e-3).toFixed(4)}</b></div>
                <div>Base: <b>${base.toFixed(4)}</b></div>
                <div>Kilo (k): <b>${(base / 1e3).toFixed(5)}</b></div>
                <div>Mega (M): <b>${(base / 1e6).toExponential(2)}</b></div>
            </div>
        `;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="utility" data-tool-id="base-pro" data-tags="cs computer science binary decimal hex octal conversion">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(16, 185, 129, 0.1); color:#10b981">
            <i class="fas fa-terminal"></i>
        </div>
        <div class="tool-meta">
            <h3>Number Base Architect</h3>
            <p>Sync Bin, Dec, Oct & Hex.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Decimal (10)</label>
                <input type="number" id="base-dec" placeholder="e.g. 255" oninput="syncBase('dec')">
            </div>
            
            <div class="input-field" style="margin-top:10px;">
                <label>Binary (2)</label>
                <input type="text" id="base-bin" placeholder="11111111" oninput="syncBase('bin')" style="font-family: 'Roboto Mono', monospace; letter-spacing: 1px;">
            </div>

            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
                <div class="input-field">
                    <label>Hexadecimal (16)</label>
                    <input type="text" id="base-hex" placeholder="FF" oninput="syncBase('hex')" style="font-family: 'Roboto Mono', monospace;">
                </div>
                <div class="input-field">
                    <label>Octal (8)</label>
                    <input type="number" id="base-oct" placeholder="377" oninput="syncBase('oct')">
                </div>
            </div>
        </div>
        
        <div class="res-display show" id="res-base" style="margin-top:15px; font-size:0.8rem; text-align:center;">
            <i class="fas fa-keyboard"></i> Type in any field to sync...
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('base-pro', 'png')"><i class="fas fa-image"></i> Save PNG</button>
    </div>
</div>

<div class="tool-card" data-category="utility" data-tool-id="storage-pro" data-tags="cs storage bytes gb mb tb kb conversion">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(59, 130, 246, 0.1); color:#3b82f6">
            <i class="fas fa-hdd"></i>
        </div>
        <div class="tool-meta">
            <h3>Data Storage Engine</h3>
            <p>Convert Bits ⇄ Bytes ⇄ GB ⇄ TB.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 2fr 1fr; gap: 10px;">
                <div class="input-field">
                    <label>Value</label>
                    <input type="number" id="st-val" placeholder="e.g. 1024">
                </div>
                <div class="input-field">
                    <label>Unit</label>
                    <select id="st-unit" onchange="runStoragePro()">
                        <option value="1">Bytes (B)</option>
                        <option value="0.125">Bits (b)</option>
                        <option value="1024">Kilobytes (KB)</option>
                        <option value="1048576">Megabytes (MB)</option>
                        <option value="1073741824">Gigabytes (GB)</option>
                        <option value="1099511627776">Terabytes (TB)</option>
                    </select>
                </div>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#3b82f6; margin-top:15px;" onclick="runStoragePro()">
            <i class="fas fa-server"></i> Convert Size
        </button>

        <div class="res-display" id="res-storage">
            <span class="placeholder">Enter data size...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('storage-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('storage-pro', 'pdf')"><i class="fas fa-file-pdf"></i> Report</button>
    </div>
</div>

<script>
    // --- NUMBER BASE SYNC LOGIC ---
    function syncBase(source) {
        const decIn = document.getElementById('base-dec');
        const binIn = document.getElementById('base-bin');
        const hexIn = document.getElementById('base-hex');
        const octIn = document.getElementById('base-oct');
        const info = document.getElementById('res-base');

        let val = NaN;

        try {
            if (source === 'dec') val = parseInt(decIn.value, 10);
            else if (source === 'bin') val = parseInt(binIn.value, 2);
            else if (source === 'hex') val = parseInt(hexIn.value, 16);
            else if (source === 'oct') val = parseInt(octIn.value, 8);
        } catch(e) { val = NaN; }

        if (isNaN(val)) {
            info.innerText = "Waiting for valid input...";
            return;
        }

        if (source !== 'dec') decIn.value = val;
        if (source !== 'bin') binIn.value = val.toString(2);
        if (source !== 'hex') hexIn.value = val.toString(16).toUpperCase();
        if (source !== 'oct') octIn.value = val.toString(8);

        info.innerHTML = `<span style="color:#10b981">Sync Active:</span> Value is ${val}`;
    }

    // --- DATA STORAGE LOGIC ---
    function runStoragePro() {
        const val = parseFloat(document.getElementById('st-val').value);
        const multiplier = parseFloat(document.getElementById('st-unit').value);
        const res = document.getElementById('res-storage');

        if (isNaN(val)) return;

        // Convert everything to Bytes first
        const bytes = val * multiplier;

        res.innerHTML = `
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px; font-size:0.85rem;">
                <div>Bits (b): <b>${(bytes * 8).toLocaleString()}</b></div>
                <div>Bytes (B): <b>${bytes.toLocaleString()}</b></div>
                <div>KB: <b>${(bytes / 1024).toFixed(2)}</b></div>
                <div>MB: <b>${(bytes / 1048576).toFixed(4)}</b></div>
                <div>GB: <b style="color:#3b82f6">${(bytes / 1073741824).toFixed(5)}</b></div>
                <div>TB: <b>${(bytes / 1099511627776).toFixed(6)}</b></div>
            </div>
        `;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="utility" data-tool-id="bmi-pro" data-tags="health fitness bmi body mass index weight height nda">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(245, 158, 11, 0.1); color:#f59e0b">
            <i class="fas fa-weight-scale"></i>
        </div>
        <div class="tool-meta">
            <h3>BMI Analyzer</h3>
            <p>Check Health Status & Category.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="input-field">
                    <label>Weight (kg)</label>
                    <input type="number" id="bmi-w" placeholder="e.g. 60">
                </div>
                <div class="input-field">
                    <label>Height (cm)</label>
                    <input type="number" id="bmi-h" placeholder="e.g. 170">
                </div>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#f59e0b" onclick="runBmiPro()">
            <i class="fas fa-heart-pulse"></i> Analyze Health
        </button>

        <div class="res-display" id="res-bmi">
            <span class="placeholder">Enter body metrics...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('bmi-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('bmi-pro', 'pdf')"><i class="fas fa-file-pdf"></i> Report</button>
    </div>
</div>

<div class="tool-card" data-category="utility" data-tool-id="bmr-pro" data-tags="health fitness bmr calories diet metabolism">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(239, 68, 68, 0.1); color:#ef4444">
            <i class="fas fa-fire-flame-curved"></i>
        </div>
        <div class="tool-meta">
            <h3>BMR & Calorie Architect</h3>
            <p>Daily Energy Needs Calculator.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Gender</label>
                <select id="bmr-gen">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-top:10px;">
                <div class="input-group"><label>Age</label><input type="number" id="bmr-age" placeholder="Yrs"></div>
                <div class="input-group"><label>W (kg)</label><input type="number" id="bmr-w" placeholder="kg"></div>
                <div class="input-group"><label>H (cm)</label><input type="number" id="bmr-h" placeholder="cm"></div>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#ef4444" onclick="runBmrPro()">
            <i class="fas fa-utensils"></i> Calculate Needs
        </button>

        <div class="res-display" id="res-bmr">
            <span class="placeholder">Enter details...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('bmr-pro', 'png')"><i class="fas fa-image"></i> Save PNG</button>
    </div>
</div>

<script>
    // --- BMI LOGIC ---
    function runBmiPro() {
        const w = parseFloat(document.getElementById('bmi-w').value);
        const h = parseFloat(document.getElementById('bmi-h').value);
        const res = document.getElementById('res-bmi');

        if (isNaN(w) || isNaN(h)) return;

        // BMI = kg / m^2
        const bmi = w / Math.pow(h / 100, 2);
        let status = "";
        let color = "";

        if (bmi < 18.5) { status = "Underweight"; color = "#3b82f6"; }
        else if (bmi < 25) { status = "Normal Weight"; color = "#10b981"; }
        else if (bmi < 30) { status = "Overweight"; color = "#f59e0b"; }
        else { status = "Obese"; color = "#ef4444"; }

        res.innerHTML = `BMI Score: <b style="font-size:1.4rem; color:${color}">${bmi.toFixed(1)}</b><br>
                        Category: <b style="color:${color}">${status}</b><br>
                        <div style="width:100%; height:6px; background:#e2e8f0; border-radius:10px; margin-top:10px; overflow:hidden;">
                            <div style="width:${Math.min(bmi*2, 100)}%; height:100%; background:${color}; transition: width 0.5s;"></div>
                        </div>`;
        res.classList.add('show');
    }

    // --- BMR LOGIC ---
    function runBmrPro() {
        const gen = document.getElementById('bmr-gen').value;
        const age = parseFloat(document.getElementById('bmr-age').value);
        const w = parseFloat(document.getElementById('bmr-w').value);
        const h = parseFloat(document.getElementById('bmr-h').value);
        const res = document.getElementById('res-bmr');

        if (isNaN(age) || isNaN(w) || isNaN(h)) return;

        // Mifflin-St Jeor Equation
        let bmr = (10 * w) + (6.25 * h) - (5 * age);
        bmr += (gen === 'male') ? 5 : -161;

        res.innerHTML = `Basal Metabolic Rate: <b style="color:#ef4444">${Math.round(bmr)} kcal/day</b>
                        <hr style="border:0; border-top:1px solid var(--border-glass); margin:10px 0;">
                        <div style="font-size:0.8rem; display:grid; gap:5px;">
                            <div>Student (Sedentary): <b>${Math.round(bmr * 1.2)}</b></div>
                            <div>Light Sports (1-3 days): <b>${Math.round(bmr * 1.375)}</b></div>
                            <div>Athlete (Daily): <b>${Math.round(bmr * 1.55)}</b></div>
                        </div>`;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="utility" data-tool-id="age-pro" data-tags="age calculator date of birth dob nda eligibility">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(99, 102, 241, 0.1); color:var(--primary)">
            <i class="fas fa-birthday-cake"></i>
        </div>
        <div class="tool-meta">
            <h3>Exact Age Calculator</h3>
            <p>Check NDA/JEE Eligibility Age.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Date of Birth</label>
                <input type="date" id="age-dob" style="font-family: 'Poppins', sans-serif;">
            </div>
            <div class="input-field" style="margin-top:10px;">
                <label>Calculate as of</label>
                <input type="date" id="age-target">
            </div>
        </div>
        
        <button class="primary-calc-btn" onclick="runAgePro()">
            <i class="fas fa-hourglass-half"></i> Calculate Age
        </button>

        <div class="res-display" id="res-age">
            <span class="placeholder">Select dates...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('age-pro', 'png')"><i class="fas fa-image"></i> Save Card</button>
    </div>
</div>

<div class="tool-card" data-category="utility" data-tool-id="timer-pro" data-tags="countdown timer date exam jee boards time remaining">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(239, 68, 68, 0.1); color:#ef4444">
            <i class="fas fa-stopwatch"></i>
        </div>
        <div class="tool-meta">
            <h3>Exam Countdown</h3>
            <p>Track Days left for Exams.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Exam Name</label>
                <input type="text" id="timer-name" placeholder="e.g. JEE Mains 2026">
            </div>
            <div class="input-field" style="margin-top:10px;">
                <label>Exam Date</label>
                <input type="date" id="timer-date">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#ef4444" onclick="runTimerPro()">
            <i class="fas fa-clock"></i> Start Countdown
        </button>

        <div class="res-display" id="res-timer">
            <span class="placeholder">Set target date...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('timer-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
    </div>
</div>

<script>
    // Set default "As of" date to today
    document.getElementById('age-target').valueAsDate = new Date();

    // --- AGE LOGIC ---
    function runAgePro() {
        const dobStr = document.getElementById('age-dob').value;
        const targetStr = document.getElementById('age-target').value;
        const res = document.getElementById('res-age');

        if (!dobStr || !targetStr) return;

        const dob = new Date(dobStr);
        const target = new Date(targetStr);

        let years = target.getFullYear() - dob.getFullYear();
        let months = target.getMonth() - dob.getMonth();
        let days = target.getDate() - dob.getDate();

        if (days < 0) {
            months--;
            const prevMonth = new Date(target.getFullYear(), target.getMonth(), 0);
            days += prevMonth.getDate();
        }

        if (months < 0) {
            years--;
            months += 12;
        }

        // Calculate Next Birthday
        const currentYear = new Date().getFullYear();
        let nextBday = new Date(dob);
        nextBday.setFullYear(currentYear);
        if (nextBday < new Date()) nextBday.setFullYear(currentYear + 1);
        
        const daysToBday = Math.ceil((nextBday - new Date()) / (1000 * 60 * 60 * 24));
        const bdayDay = nextBday.toLocaleDateString('en-US', { weekday: 'long' });

        res.innerHTML = `Current Age: <b style="color:var(--primary); font-size:1.3rem">${years} Years</b><br>
                        ${months} Months, ${days} Days<br>
                        <hr style="border:0; border-top:1px solid var(--border-glass); margin:10px 0;">
                        <small>Next Birthday: In <b>${daysToBday} Days</b> (${bdayDay})</small>`;
        res.classList.add('show');
    }

    // --- COUNTDOWN LOGIC ---
    function runTimerPro() {
        const name = document.getElementById('timer-name').value || "Exam";
        const dateStr = document.getElementById('timer-date').value;
        const res = document.getElementById('res-timer');

        if (!dateStr) return;

        const target = new Date(dateStr);
        const now = new Date();
        const diff = target - now;

        if (diff < 0) {
            res.innerHTML = `<b style="color:#10b981">Completed!</b><br>The date for ${name} has passed.`;
        } else {
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const weeks = Math.floor(days / 7);
            const remainingDays = days % 7;

            res.innerHTML = `Time to <b style="color:#ef4444">${name}</b>:<br>
                            <span style="font-size:1.8rem; font-weight:800; color:var(--text-main)">${days} Days</span><br>
                            <small>(${weeks} Weeks, ${remainingDays} Days)</small>`;
        }
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="math" data-tool-id="heron-pro" data-tags="math geometry triangle area sides heron formula pcm">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(16, 185, 129, 0.1); color:#10b981">
            <i class="fas fa-draw-polygon"></i>
        </div>
        <div class="tool-meta">
            <h3>Heron's Area Architect</h3>
            <p>Area from 3 sides (No height needed).</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <label style="font-size:0.75rem; color:var(--text-dim); margin-bottom:5px; display:block;">Enter lengths of 3 sides:</label>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px;">
                <input type="number" id="her-a" placeholder="a">
                <input type="number" id="her-b" placeholder="b">
                <input type="number" id="her-c" placeholder="c">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#10b981" onclick="runHeronPro()">
            <i class="fas fa-ruler-combined"></i> Calculate Area
        </button>

        <div class="res-display" id="res-heron">
            <span class="placeholder">Enter a, b, c...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('heron-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('heron-pro', 'pdf')"><i class="fas fa-file-pdf"></i> Report</button>
    </div>
</div>

<div class="tool-card" data-category="math" data-tool-id="pytha-pro" data-tags="math geometry triangle right angle pythagoras hypotenuse">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(99, 102, 241, 0.1); color:var(--primary)">
            <i class="fas fa-shapes"></i>
        </div>
        <div class="tool-meta">
            <h3>Pythagoras Master</h3>
            <p>Find Hypotenuse or Leg.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>What to find?</label>
                <select id="py-mode" onchange="togglePyInputs()">
                    <option value="hyp">Hypotenuse (c)</option>
                    <option value="leg">Leg (a or b)</option>
                </select>
            </div>
            
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top:15px;">
                <div class="input-field">
                    <label id="lbl-1">Side A</label>
                    <input type="number" id="py-1" placeholder="a">
                </div>
                <div class="input-field">
                    <label id="lbl-2">Side B</label>
                    <input type="number" id="py-2" placeholder="b">
                </div>
            </div>
        </div>
        
        <button class="primary-calc-btn" onclick="runPythaPro()">
            <i class="fas fa-square-root-variable"></i> Solve Triangle
        </button>

        <div class="res-display" id="res-pytha">
            <span class="placeholder">Enter two sides...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('pytha-pro', 'png')"><i class="fas fa-image"></i> Save PNG</button>
    </div>
</div>

<script>
    // --- HERON'S FORMULA LOGIC ---
    function runHeronPro() {
        const a = parseFloat(document.getElementById('her-a').value);
        const b = parseFloat(document.getElementById('her-b').value);
        const c = parseFloat(document.getElementById('her-c').value);
        const res = document.getElementById('res-heron');

        if (isNaN(a) || isNaN(b) || isNaN(c)) return;

        // Triangle Validity Check: Sum of two sides > third side
        if (a + b <= c || a + c <= b || b + c <= a) {
            res.innerHTML = `<b style="color:#ef4444">Invalid Triangle!</b><br>Sum of two sides must be greater than the third.`;
            res.classList.add('show');
            return;
        }

        const s = (a + b + c) / 2;
        const area = Math.sqrt(s * (s - a) * (s - b) * (s - c));

        res.innerHTML = `Area: <b style="color:#10b981; font-size:1.3rem">${area.toFixed(4)} sq units</b><br>
                        <small>Semi-perimeter (s): ${s}</small>`;
        res.classList.add('show');
    }

    // --- PYTHAGORAS LOGIC ---
    function togglePyInputs() {
        const mode = document.getElementById('py-mode').value;
        const l1 = document.getElementById('lbl-1');
        const l2 = document.getElementById('lbl-2');
        const i2 = document.getElementById('py-2');

        if (mode === 'hyp') {
            l1.innerText = "Side A (Leg)";
            l2.innerText = "Side B (Leg)";
            i2.placeholder = "b";
        } else {
            l1.innerText = "Hypotenuse (c)";
            l2.innerText = "Known Leg";
            i2.placeholder = "a or b";
        }
    }

    function runPythaPro() {
        const mode = document.getElementById('py-mode').value;
        const v1 = parseFloat(document.getElementById('py-1').value);
        const v2 = parseFloat(document.getElementById('py-2').value);
        const res = document.getElementById('res-pytha');

        if (isNaN(v1) || isNaN(v2)) return;

        let result = 0;
        let txt = "";

        if (mode === 'hyp') {
            // c = sqrt(a^2 + b^2)
            result = Math.sqrt((v1 * v1) + (v2 * v2));
            txt = `Hypotenuse (c): <b style="color:var(--primary)">${result.toFixed(4)}</b>`;
        } else {
            // leg = sqrt(hyp^2 - leg^2)
            if (v1 <= v2) {
                res.innerHTML = "Error: Hypotenuse must be longer than the leg.";
                res.classList.add('show');
                return;
            }
            result = Math.sqrt((v1 * v1) - (v2 * v2));
            txt = `Missing Leg: <b style="color:var(--primary)">${result.toFixed(4)}</b>`;
        }

        res.innerHTML = txt;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="academic" data-tool-id="jee-rank-pro" data-tags="jee main rank predictor marks percentile nta pcm">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(239, 68, 68, 0.1); color:#ef4444">
            <i class="fas fa-trophy"></i>
        </div>
        <div class="tool-meta">
            <h3>JEE Rank Predictor</h3>
            <p>Est. Rank from Marks (300).</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Your Score (out of 300)</label>
                <input type="number" id="jee-marks" placeholder="e.g. 180" max="300">
            </div>
            <div class="input-field" style="margin-top:10px;">
                <label>Paper Difficulty</label>
                <select id="jee-diff">
                    <option value="moderate">Moderate (Standard)</option>
                    <option value="hard">Hard (Low Scoring)</option>
                    <option value="easy">Easy (High Scoring)</option>
                </select>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#ef4444" onclick="runJeeRankPro()">
            <i class="fas fa-chart-simple"></i> Predict AIR
        </button>

        <div class="res-display" id="res-jee">
            <span class="placeholder">Enter marks...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('jee-rank-pro', 'png')"><i class="fas fa-image"></i> Save Prediction</button>
    </div>
</div>

<div class="tool-card" data-category="academic" data-tool-id="percentile-pro" data-tags="percentile rank calculator nta jee neet">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(59, 130, 246, 0.1); color:#3b82f6">
            <i class="fas fa-percent"></i>
        </div>
        <div class="tool-meta">
            <h3>NTA Percentile Calc</h3>
            <p>Convert Percentile to Exact Rank.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>NTA Score (Percentile)</label>
                <input type="number" id="nta-perc" placeholder="e.g. 98.54321" step="0.0000001">
            </div>
            <div class="input-field" style="margin-top:10px;">
                <label>Total Candidates (N)</label>
                <input type="number" id="nta-total" value="1200000" placeholder="Unique Candidates">
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#3b82f6" onclick="runNtaPro()">
            <i class="fas fa-list-ol"></i> Calculate Rank
        </button>

        <div class="res-display" id="res-nta">
            <span class="placeholder">Enter NTA score...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('percentile-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('percentile-pro', 'pdf')"><i class="fas fa-file-pdf"></i> PDF</button>
    </div>
</div>

<script>
    // --- JEE RANK PREDICTION LOGIC ---
    function runJeeRankPro() {
        let marks = parseFloat(document.getElementById('jee-marks').value);
        const diff = document.getElementById('jee-diff').value;
        const res = document.getElementById('res-jee');

        if (isNaN(marks) || marks > 300) {
            res.innerHTML = "Please enter valid marks (0-300).";
            return;
        }

        // Adjust marks based on difficulty for normalization
        if (diff === 'hard') marks += 15; // Hard paper bonus
        else if (diff === 'easy') marks -= 10; // Easy paper penalty

        // Estimation Logic (Based on 2024-25 Trends)
        let percentile = 0;
        if (marks >= 280) percentile = 99.99;
        else if (marks >= 250) percentile = 99.9;
        else if (marks >= 220) percentile = 99.5;
        else if (marks >= 200) percentile = 99.0;
        else if (marks >= 180) percentile = 98.5;
        else if (marks >= 150) percentile = 97.0;
        else if (marks >= 120) percentile = 95.0;
        else if (marks >= 100) percentile = 93.0;
        else percentile = (marks / 120) * 90; // Linear fall-off

        const totalCandidates = 1200000;
        const rank = Math.ceil(((100 - percentile) / 100) * totalCandidates);
        
        // Status Message
        let status = "";
        let color = "var(--text-dim)";
        if (percentile >= 99) { status = "NIT Trichy / Warangal Possible"; color = "#10b981"; }
        else if (percentile >= 97) { status = "Top NITs / IIITs Possible"; color = "#10b981"; }
        else if (percentile >= 90) { status = "Qualifies for JEE Adv."; color = "#f59e0b"; }
        else { status = "Focus on Next Attempt"; color = "#ef4444"; }

        res.innerHTML = `Est. Percentile: <b>${percentile.toFixed(2)}</b><br>
                        Predicted AIR: <b style="font-size:1.3rem; color:${color}">${rank.toLocaleString()}</b><br>
                        <small style="color:${color}">${status}</small>`;
        res.classList.add('show');
    }

    // --- NTA PERCENTILE LOGIC ---
    function runNtaPro() {
        const p = parseFloat(document.getElementById('nta-perc').value);
        const n = parseFloat(document.getElementById('nta-total').value);
        const res = document.getElementById('res-nta');

        if (isNaN(p) || isNaN(n) || p > 100) return;

        // NTA Rank Formula
        const rank = ((100 - p) / 100) * n;
        const finalRank = Math.ceil(rank); // Rank is always integer

        res.innerHTML = `All India Rank (AIR):<br>
                        <b style="font-size:1.6rem; color:#3b82f6">#${finalRank.toLocaleString()}</b><br>
                        <small>Out of ${n.toLocaleString()} students</small>`;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="math" data-tool-id="pnc-pro" data-tags="math probability permutation combination ncr npr pcm jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(245, 158, 11, 0.1); color:#f59e0b">
            <i class="fas fa-arrow-up-9-1"></i>
        </div>
        <div class="tool-meta">
            <h3>PnC Master</h3>
            <p>Calculate Permutations (nPr) and Combinations (nCr).</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="input-field">
                    <label>Total Items (n)</label>
                    <input type="number" id="pnc-n" placeholder="n">
                </div>
                <div class="input-field">
                    <label>Selection (r)</label>
                    <input type="number" id="pnc-r" placeholder="r">
                </div>
            </div>
        </div>
        
        <button class="primary-calc-btn" style="background:#f59e0b" onclick="runPncPro()">
            <i class="fas fa-shuffle"></i> Solve Selection
        </button>

        <div class="res-display" id="res-pnc">
            <span class="placeholder">Enter n and r...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('pnc-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
        <button class="export-btn" onclick="universalExport('pnc-pro', 'pdf')"><i class="fas fa-file-pdf"></i> PDF</button>
    </div>
</div>

<div class="tool-card" data-category="math" data-tool-id="binom-pro" data-tags="math probability binomial distribution pcm jee">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(139, 92, 246, 0.1); color:#8b5cf6">
            <i class="fas fa-dice"></i>
        </div>
        <div class="tool-meta">
            <h3>Binomial Solver</h3>
            <p>P(X=k) for n trials and probability p.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px;">
            <div class="input-group"><label>Trials (n)</label><input type="number" id="bn-n" placeholder="n"></div>
            <div class="input-group"><label>Success (k)</label><input type="number" id="bn-k" placeholder="k"></div>
            <div class="input-group"><label>Prob (p)</label><input type="number" id="bn-p" placeholder="0.5" step="0.1"></div>
        </div>
        
        <button class="primary-calc-btn" style="background:#8b5cf6; margin-top:15px;" onclick="runBinomPro()">
            <i class="fas fa-calculator"></i> Find Probability
        </button>

        <div class="res-display" id="res-binom">
            <span class="placeholder">Enter n, k, and p...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('binom-pro', 'png')"><i class="fas fa-image"></i> Save PNG</button>
    </div>
</div>

<script>
    // Helper for large factorials
    function factorial(num) {
        if (num < 0) return 0;
        if (num === 0 || num === 1) return 1;
        let result = 1;
        for (let i = 2; i <= num; i++) result *= i;
        return result;
    }

    function nCr(n, r) {
        if (r > n) return 0;
        return factorial(n) / (factorial(r) * factorial(n - r));
    }

    // --- PNC LOGIC ---
    function runPncPro() {
        const n = parseInt(document.getElementById('pnc-n').value);
        const r = parseInt(document.getElementById('pnc-r').value);
        const res = document.getElementById('res-pnc');

        if (isNaN(n) || isNaN(r) || r > n) return;

        const nPr = factorial(n) / factorial(n - r);
        const nCrVal = nCr(n, r);

        res.innerHTML = `Combination (nCr): <b style="color:#f59e0b">${nCrVal.toLocaleString()}</b><br>
                        Permutation (nPr): <b>${nPr.toLocaleString()}</b>`;
        res.classList.add('show');
    }

    // --- BINOMIAL LOGIC ---
    function runBinomPro() {
        const n = parseInt(document.getElementById('bn-n').value);
        const k = parseInt(document.getElementById('bn-k').value);
        const p = parseFloat(document.getElementById('bn-p').value);
        const res = document.getElementById('res-binom');

        if (isNaN(n) || isNaN(k) || isNaN(p) || p > 1) return;

        const comb = nCr(n, k);
        const prob = comb * Math.pow(p, k) * Math.pow(1 - p, n - k);

        res.innerHTML = `P(X = ${k}): <b style="color:#8b5cf6; font-size:1.1rem">${(prob * 100).toFixed(4)}%</b><br>
                        <small>Decimal: ${prob.toFixed(6)}</small>`;
        res.classList.add('show');
    }
</script>
<div class="tool-card" data-category="physics" data-tool-id="press-pro" data-tags="physics chemistry pressure pascal atm bar torr conversion">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(59, 130, 246, 0.1); color:#3b82f6">
            <i class="fas fa-gauge-high"></i>
        </div>
        <div class="tool-meta">
            <h3>Pressure Engine</h3>
            <p>Sync Pa, Atm, Bar, Torr.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="input-field">
                    <label>Pascal (Pa)</label>
                    <input type="number" id="pr-pa" placeholder="101325" oninput="syncPress('pa')">
                </div>
                <div class="input-field">
                    <label>Atmosphere (atm)</label>
                    <input type="number" id="pr-atm" placeholder="1" oninput="syncPress('atm')">
                </div>
            </div>
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;">
                <div class="input-field">
                    <label>Bar</label>
                    <input type="number" id="pr-bar" placeholder="1.013" oninput="syncPress('bar')">
                </div>
                <div class="input-field">
                    <label>Torr (mmHg)</label>
                    <input type="number" id="pr-torr" placeholder="760" oninput="syncPress('torr')">
                </div>
            </div>
        </div>
        
        <div class="res-display show" id="res-press" style="margin-top:20px; text-align:center; font-size:0.8rem;">
            <i class="fas fa-arrow-right-arrow-left"></i> Real-time Sync Active
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('press-pro', 'png')"><i class="fas fa-image"></i> Save PNG</button>
    </div>
</div>

<div class="tool-card" data-category="physics" data-tool-id="energy-pro" data-tags="physics energy work joules calories ev kwh conversion">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(245, 158, 11, 0.1); color:#f59e0b">
            <i class="fas fa-bolt"></i>
        </div>
        <div class="tool-meta">
            <h3>Energy Master</h3>
            <p>Joules, Calories, eV & kWh.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Joules (J) - SI Unit</label>
                <input type="number" id="en-j" placeholder="e.g. 4.184" oninput="syncEnergy('j')">
            </div>
            
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
                <div class="input-field">
                    <label>Calories (cal)</label>
                    <input type="number" id="en-cal" placeholder="e.g. 1" oninput="syncEnergy('cal')">
                </div>
                <div class="input-field">
                    <label>Electron-Volts (eV)</label>
                    <input type="number" id="en-ev" placeholder="Atomic Scale" oninput="syncEnergy('ev')">
                </div>
            </div>

            <div class="input-field" style="margin-top:10px;">
                <label>Kilowatt-Hour (kWh)</label>
                <input type="number" id="en-kwh" placeholder="Electricity" oninput="syncEnergy('kwh')">
            </div>
        </div>
        
        <div class="res-display show" id="res-energy" style="margin-top:15px; text-align:center; font-size:0.8rem;">
            <i class="fas fa-plug"></i> Type to convert energy...
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('energy-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
    </div>
</div>

<script>
    // --- PRESSURE SYNC LOGIC ---
    function syncPress(source) {
        const paIn = document.getElementById('pr-pa');
        const atmIn = document.getElementById('pr-atm');
        const barIn = document.getElementById('pr-bar');
        const torrIn = document.getElementById('pr-torr');

        let pa;

        if (source === 'pa') pa = parseFloat(paIn.value);
        else if (source === 'atm') pa = parseFloat(atmIn.value) * 101325;
        else if (source === 'bar') pa = parseFloat(barIn.value) * 100000;
        else if (source === 'torr') pa = parseFloat(torrIn.value) * 133.322;

        if (isNaN(pa)) return;

        if (source !== 'pa') paIn.value = parseFloat(pa.toPrecision(6));
        if (source !== 'atm') atmIn.value = parseFloat((pa / 101325).toPrecision(6));
        if (source !== 'bar') barIn.value = parseFloat((pa / 100000).toPrecision(6));
        if (source !== 'torr') torrIn.value = parseFloat((pa / 133.322).toPrecision(6));
    }

    // --- ENERGY SYNC LOGIC ---
    function syncEnergy(source) {
        const jIn = document.getElementById('en-j');
        const calIn = document.getElementById('en-cal');
        const evIn = document.getElementById('en-ev');
        const kwhIn = document.getElementById('en-kwh');

        let j;

        if (source === 'j') j = parseFloat(jIn.value);
        else if (source === 'cal') j = parseFloat(calIn.value) * 4.184;
        else if (source === 'ev') j = parseFloat(evIn.value) * 1.60218e-19;
        else if (source === 'kwh') j = parseFloat(kwhIn.value) * 3.6e6;

        if (isNaN(j)) return;

        if (source !== 'j') jIn.value = parseFloat(j.toPrecision(6));
        if (source !== 'cal') calIn.value = parseFloat((j / 4.184).toPrecision(6));
        if (source !== 'ev') evIn.value = (j / 1.60218e-19).toExponential(4);
        if (source !== 'kwh') kwhIn.value = (j / 3.6e6).toExponential(4);
    }
</script>
<div class="tool-card" data-category="utility" data-tool-id="logic-pro" data-tags="cs computer science logic gates boolean algebra and or not xor">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(16, 185, 129, 0.1); color:#10b981">
            <i class="fas fa-microchip"></i>
        </div>
        <div class="tool-meta">
            <h3>Live Logic Circuit</h3>
            <p>Simulate A/B inputs for all gates.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="logic-switch" onclick="toggleBit('a')" id="sw-a">
                    <label>Input A</label>
                    <div class="switch-body">
                        <div class="switch-knob"></div>
                    </div>
                    <span class="bit-val" id="val-a">0</span>
                </div>
                
                <div class="logic-switch" onclick="toggleBit('b')" id="sw-b">
                    <label>Input B</label>
                    <div class="switch-body">
                        <div class="switch-knob"></div>
                    </div>
                    <span class="bit-val" id="val-b">0</span>
                </div>
            </div>
        </div>
        
        <div class="res-display show" id="res-logic" style="margin-top:20px; padding:10px;">
            <div class="gate-grid">
                <div class="gate-box"><b>AND</b><div class="led" id="led-and"></div></div>
                <div class="gate-box"><b>OR</b><div class="led" id="led-or"></div></div>
                <div class="gate-box"><b>NAND</b><div class="led" id="led-nand"></div></div>
                <div class="gate-box"><b>NOR</b><div class="led" id="led-nor"></div></div>
                <div class="gate-box"><b>XOR</b><div class="led" id="led-xor"></div></div>
                <div class="gate-box"><b>XNOR</b><div class="led" id="led-xnor"></div></div>
            </div>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('logic-pro', 'png')"><i class="fas fa-image"></i> Save Circuit</button>
    </div>
</div>

<div class="tool-card" data-category="utility" data-tool-id="truth-pro" data-tags="cs logic truth table boolean generator">
    <div class="tool-header">
        <div class="tool-icon" style="background:rgba(79, 70, 229, 0.1); color:#4f46e5">
            <i class="fas fa-table"></i>
        </div>
        <div class="tool-meta">
            <h3>Truth Table Gen</h3>
            <p>Generate tables for any Gate.</p>
        </div>
    </div>

    <div class="tool-body">
        <div class="input-stack">
            <div class="input-field">
                <label>Select Logic Gate</label>
                <select id="tt-gate" onchange="runTruthPro()">
                    <option value="AND">AND (A . B)</option>
                    <option value="OR">OR (A + B)</option>
                    <option value="XOR">XOR (A ⊕ B)</option>
                    <option value="NAND">NAND (A . B)'</option>
                    <option value="NOR">NOR (A + B)'</option>
                    <option value="XNOR">XNOR (A ⊙ B)</option>
                </select>
            </div>
        </div>
        
        <div class="res-display" id="res-truth" style="padding:0; overflow:hidden;">
            <span class="placeholder" style="padding:15px; display:block;">Select a gate...</span>
        </div>
    </div>

    <div class="card-export-bar">
        <button class="export-btn" onclick="universalExport('truth-pro', 'png')"><i class="fas fa-image"></i> PNG</button>
    </div>
</div>

<style>
    /* --- LOGIC SWITCH STYLING --- */
    .logic-switch {
        background: rgba(255,255,255,0.5); border: 1px solid var(--border-glass);
        padding: 10px; border-radius: 12px; cursor: pointer; text-align: center;
        transition: 0.2s;
    }
    .logic-switch.active { background: rgba(16, 185, 129, 0.1); border-color: #10b981; }
    
    .switch-body {
        width: 50px; height: 26px; background: #e2e8f0; border-radius: 20px;
        margin: 5px auto; position: relative; transition: 0.3s;
    }
    .logic-switch.active .switch-body { background: #10b981; }
    
    .switch-knob {
        width: 20px; height: 20px; background: white; border-radius: 50%;
        position: absolute; top: 3px; left: 3px; transition: 0.3s;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .logic-switch.active .switch-knob { left: 27px; }

    .bit-val { font-family: 'Orbitron', sans-serif; font-weight: bold; font-size: 1.2rem; color: var(--text-dim); }
    .logic-switch.active .bit-val { color: #10b981; }

    /* --- GATE GRID STYLING --- */
    .gate-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
    .gate-box {
        background: white; padding: 8px; border-radius: 8px; text-align: center;
        border: 1px solid var(--border-glass); display: flex; flex-direction: column; align-items: center;
        font-size: 0.75rem;
    }
    body.dark-mode .gate-grid .gate-box { background: rgba(255,255,255,0.05); }

    .led {
        width: 15px; height: 15px; border-radius: 50%; background: #cbd5e1;
        margin-top: 5px; box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
        transition: 0.3s;
    }
    .led.on { background: #f59e0b; box-shadow: 0 0 10px #f59e0b; } /* Glow Effect */

    /* --- TRUTH TABLE STYLING --- */
    .tt-table { width: 100%; border-collapse: collapse; font-family: 'Roboto Mono', monospace; font-size: 0.9rem; }
    .tt-table th { background: rgba(99, 102, 241, 0.1); padding: 10px; color: var(--primary); }
    .tt-table td { padding: 8px; text-align: center; border-top: 1px solid var(--border-glass); }
    .tt-row-high { background: rgba(16, 185, 129, 0.1); color: #10b981; font-weight: bold; }
</style>

<script>
    // --- LIVE LOGIC CIRCUIT ---
    let bitA = 0;
    let bitB = 0;

    function toggleBit(id) {
        const sw = document.getElementById(`sw-${id}`);
        const val = document.getElementById(`val-${id}`);
        
        if (id === 'a') bitA = bitA === 0 ? 1 : 0;
        else bitB = bitB === 0 ? 1 : 0;

        // UI Update
        const currentBit = id === 'a' ? bitA : bitB;
        val.innerText = currentBit;
        if(currentBit === 1) sw.classList.add('active');
        else sw.classList.remove('active');

        updateGates();
    }

    function updateGates() {
        const setLed = (id, state) => {
            const el = document.getElementById(id);
            if(state) el.classList.add('on');
            else el.classList.remove('on');
        };

        setLed('led-and', bitA & bitB);
        setLed('led-or', bitA | bitB);
        setLed('led-nand', !(bitA & bitB));
        setLed('led-nor', !(bitA | bitB));
        setLed('led-xor', bitA ^ bitB);
        setLed('led-xnor', !(bitA ^ bitB));
    }

    // --- TRUTH TABLE GENERATOR ---
    function runTruthPro() {
        const type = document.getElementById('tt-gate').value;
        const res = document.getElementById('res-truth');
        
        let html = `<table class="tt-table"><thead><tr><th>A</th><th>B</th><th>${type}</th></tr></thead><tbody>`;
        
        // Loop through all 4 combinations: 00, 01, 10, 11
        for(let a=0; a<=1; a++) {
            for(let b=0; b<=1; b++) {
                let out = 0;
                if(type === 'AND') out = a & b;
                if(type === 'OR') out = a | b;
                if(type === 'XOR') out = a ^ b;
                if(type === 'NAND') out = (a & b) ? 0 : 1;
                if(type === 'NOR') out = (a | b) ? 0 : 1;
                if(type === 'XNOR') out = (a ^ b) ? 0 : 1;

                const rowClass = out === 1 ? 'tt-row-high' : '';
                html += `<tr class="${rowClass}"><td>${a}</td><td>${b}</td><td>${out}</td></tr>`;
            }
        }
        html += `</tbody></table>`;
        res.innerHTML = html;
        res.classList.add('show');
    }
    
    // Initialize Truth Table
    setTimeout(runTruthPro, 1000); // Auto-load on start
</script>
<button id="scroll-top-btn" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
    <i class="fas fa-arrow-up"></i>
</button>
<button onclick="toggleCalc()" style="
    position: fixed; bottom: 20px; right: 20px; 
    width: 60px; height: 60px; border-radius: 50%; 
    background: var(--primary); color: white; border: none;
    box-shadow: 0 10px 25px var(--primary-glow);
    z-index: 7000; cursor: pointer; font-size: 1.5rem;
    display: flex; align-items: center; justify-content: center;
">
    <i class="fas fa-calculator"></i>
</button>
    
<footer class="app-footer">
    <div class="footer-content">
        <div class="footer-brand">
            <h4>StudyTools India</h4>
            <p>The Elite Academic Engine for ISC, JEE & NDA.</p>
            <div class="social-links">
                <a href="https://instagram.com/studytoolsindia" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="https://github.com/return7521-ui" target="_blank"><i class="fab fa-github"></i></a>
                <a href="mailto: return7521@gmail.com"><i class="fas fa-envelope"></i></a>
            </div>
        </div>
        <div class="footer-links">
            <button onclick="openModal('modal-about')">About Founder</button>
            <button onclick="openModal('modal-terms')">Terms of Service</button>
            <button onclick="openModal('modal-privacy')">Privacy Policy</button>
        </div>
    </div>
    <div class="copyright-bar">
        &copy; <span id="year-span"></span> <b>Shashank Kushwaha</b>. All Rights Reserved.
    </div>
</footer>

<div class="modal-window" id="modal-about">
    <div class="modal-header">
        <h3><i class="fas fa-code-branch"></i> Architect Vision</h3>
        <button class="close-modal" onclick="closeAllModals()">&times;</button>
    </div>
    
    <div class="modal-body">
        <div class="pro-card-header">
            <div class="pro-avatar">SK</div>
            <div class="pro-info">
                <h4>Shashank Kushwaha</h4>
                <span>Lead Architect & Engineer</span>
            </div>
        </div>

        <div class="pro-bio">
            <p>Redefining the digital academic landscape with <b>Precision-Engineered</b> tools. StudyTools India is a <b>High-Performance Academic Ecosystem</b> designed to bridge the gap between complex theory and instant application for <b>ISC, JEE, and NDA</b> aspirants.</p>
        </div>

        <div class="pro-stack">
            <small>SYSTEM CORE & ARCHITECTURE</small>
            <div class="stack-badges">
                <span class="tech-badge"><i class="fab fa-js-square" style="color:#f7df1e;"></i> ES6+ Engine</span>
                <span class="tech-badge"><i class="fas fa-layer-group" style="color:#6366f1;"></i> Glassmorphism UI</span>
                <span class="tech-badge"><i class="fas fa-bolt" style="color:#eab308;"></i> PWA Native</span>
                <span class="tech-badge"><i class="fas fa-shield-alt" style="color:#10b981;"></i> Local Privacy</span>
            </div>
        </div>
        
        <div style="margin-top:20px; text-align:center; border-top: 1px dashed var(--border-glass); padding-top: 15px;">
             <small style="color:var(--text-dim);">Deployed via GitHub Pages • v4.0.0 Stable</small>
        </div>
    </div>
</div>

<script>
    // --- A. NIGHT MODE LOGIC ---
    function toggleGlobalTheme() {
        document.body.classList.toggle('dark-mode');
        const isDark = document.body.classList.contains('dark-mode');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        
        // Update Icon
        const btn = document.querySelector('.theme-toggle i');
        if(btn) btn.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
    }
    // Auto-Load Theme
    if(localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
        const btn = document.querySelector('.theme-toggle i');
        if(btn) btn.className = 'fas fa-sun';
    }

    // --- B. INSTALL APP LOGIC (PWA) ---
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
        // Prevent Chrome 67 and earlier from automatically showing the prompt
        e.preventDefault();
        deferredPrompt = e;
        // Show the install button now that it's available
        const installBtn = document.getElementById('install-btn');
        if(installBtn) {
            installBtn.style.display = 'block';
            installBtn.addEventListener('click', () => {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the A2HS prompt');
                    }
                    deferredPrompt = null;
                });
            });
        }
    });

        // --- C. SOCIAL SHARE LOGIC (PROFESSIONAL UPGRADE) ---
    async function nativeShare() {
        const shareData = {
            title: 'StudyTools India | Elite Academic Engine',
            text: '🚀 Experience the Next-Gen Academic Toolkit. Precision calculators for JEE, NDA & ISC designed by Shashank Kushwaha. Try the PWA now:',
            url: 'https://return7521-ui.github.io/studytoolsindia/'
        };

        if (navigator.share) {
            try {
                await navigator.share(shareData);
            } catch (err) {
                console.log('Share canceled');
            }
        } else {
            // Fallback: Copy to Clipboard
            navigator.clipboard.writeText(shareData.url);
            alert("System Link copied to clipboard.");
        }
    }

    // --- D. SEARCH ENGINE (Fixing Overlap & Logic) ---
    const searchInput = document.getElementById('master-search');
    if(searchInput) {
        searchInput.addEventListener('keyup', function() {
            const filter = this.value.toLowerCase();
            const cards = document.querySelectorAll('.tool-card');
            let visibleCount = 0;
            
            cards.forEach(card => {
                const tags = card.getAttribute('data-tags') || "";
                const title = card.querySelector('h3').innerText.toLowerCase();
                if (tags.includes(filter) || title.includes(filter)) {
                    card.style.display = "flex";
                    visibleCount++;
                } else {
                    card.style.display = "none";
                }
            });
            
            // Update the status text
            const status = document.getElementById('search-count');
            if(status) status.innerText = filter === "" ? "Ready" : `${visibleCount} Found`;
        });
    }

    // --- E. SCIENTIFIC CALC TOGGLE ---
    function toggleCalc() {
        const dock = document.getElementById('scientific-dock');
        dock.classList.toggle('active');
    }

    // --- F. SCROLL TO TOP ---
    window.addEventListener('scroll', () => {
        const btn = document.getElementById('scroll-top-btn');
        if(btn) {
            if (window.scrollY > 300) {
                btn.style.opacity = '1';
                btn.style.pointerEvents = 'all';
            } else {
                btn.style.opacity = '0';
                btn.style.pointerEvents = 'none';
            }
        }
    });

        /* === 1. ULTRA-PREMIUM FOOTER === */
.app-footer {
    position: relative; z-index: 10;
    margin-top: 80px; 
    background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.8) 100%);
    backdrop-filter: blur(20px);
    border-top: 1px solid var(--border-glass);
    padding: 60px 20px 120px; /* Extra space for FAB */
    overflow: hidden;
}
body.dark-mode .app-footer {
    background: linear-gradient(180deg, rgba(15, 23, 42, 0) 0%, rgba(15, 23, 42, 0.9) 100%);
}

/* The "Aurora" Glow Effect behind footer */
.app-footer::before {
    content: ''; position: absolute; bottom: -50px; left: 50%; transform: translateX(-50%);
    width: 300px; height: 300px; background: var(--primary);
    filter: blur(150px); opacity: 0.15; z-index: -1; pointer-events: none;
}

.footer-content {
    max-width: 1100px; margin: 0 auto;
    display: grid; grid-template-columns: 1.5fr 1fr; gap: 40px;
    align-items: center;
}
@media (max-width: 768px) { .footer-content { grid-template-columns: 1fr; text-align: center; } }

/* Brand Typography */
.footer-brand h4 {
    font-family: 'Orbitron', sans-serif; font-size: 1.8rem; font-weight: 900;
    background: linear-gradient(135deg, var(--text-main), var(--primary));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    margin-bottom: 10px; letter-spacing: 1px;
}
.footer-brand p { font-size: 0.95rem; color: var(--text-dim); max-width: 400px; line-height: 1.6; }
@media (max-width: 768px) { .footer-brand p { margin: 0 auto; } }

/* Glowing Social Orbs */
.social-links { display: flex; gap: 15px; margin-top: 20px; }
@media (max-width: 768px) { .social-links { justify-content: center; } }

.social-btn {
    width: 45px; height: 45px; border-radius: 50%;
    background: var(--card-glass); border: 1px solid var(--border-glass);
    display: flex; align-items: center; justify-content: center;
    color: var(--text-dim); font-size: 1.2rem; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    text-decoration: none; position: relative; overflow: hidden;
}
.social-btn::after {
    content: ''; position: absolute; inset: 0; background: var(--primary);
    opacity: 0; transition: 0.3s; z-index: 0;
}
.social-btn i { position: relative; z-index: 2; transition: 0.3s; }
.social-btn:hover { transform: translateY(-5px); border-color: var(--primary); box-shadow: 0 10px 20px var(--primary-glow); }
.social-btn:hover::after { opacity: 1; }
.social-btn:hover i { color: white; }

/* Interactive Links */
.footer-links { display: flex; gap: 20px; flex-wrap: wrap; justify-content: flex-end; }
@media (max-width: 768px) { .footer-links { justify-content: center; } }

.legal-link {
    background: none; border: none; font-family: 'Poppins', sans-serif;
    font-size: 0.9rem; font-weight: 500; color: var(--text-dim);
    cursor: pointer; position: relative; padding: 5px 0; transition: 0.3s;
}
.legal-link::after {
    content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 2px;
    background: var(--primary); transition: 0.3s;
}
.legal-link:hover { color: var(--primary); }
.legal-link:hover::after { width: 100%; }

/* Copyright Bar */
.copyright-bar {
    margin-top: 50px; padding-top: 20px; border-top: 1px solid var(--border-glass);
    text-align: center; font-size: 0.85rem; color: var(--text-dim); opacity: 0.7;
}

/* === 2. IMMERSIVE MODALS (The "Nothing Happens" Fix) === */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.6); backdrop-filter: blur(8px);
    z-index: 10000; /* Highest Priority */
    opacity: 0; pointer-events: none; transition: 0.4s;
}
.modal-overlay.active { opacity: 1; pointer-events: all; }

.modal-window {
    position: fixed; top: 50%; left: 50%; transform: translate(-50%, -40%) scale(0.95);
    width: 90%; max-width: 480px;
    background: var(--bg-grad-1); /* Matches theme */
    border: 1px solid var(--border-glass);
    border-radius: 24px; padding: 30px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    z-index: 10001; /* Above Overlay */
    opacity: 0; pointer-events: none; transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}
.modal-window.active { opacity: 1; pointer-events: all; transform: translate(-50%, -50%) scale(1); }

/* Modal Headers */
.modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
.modal-header h3 { font-family: 'Orbitron', sans-serif; font-size: 1.1rem; color: var(--primary); display: flex; align-items: center; gap: 10px; }
.close-modal {
    background: rgba(0,0,0,0.05); border: none; width: 32px; height: 32px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-main); transition: 0.2s;
}
.close-modal:hover { background: var(--danger); color: white; transform: rotate(90deg); }

    
    // --- H. PWA REGISTRATION ---
    if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js');
</script>

<style>
    /* CRITICAL LAYOUT FIXES FOR FOOTER & BUTTONS */
    #scroll-top-btn {
        position: fixed; bottom: 90px; right: 20px;
        width: 50px; height: 50px; border-radius: 50%;
        background: var(--primary); color: white; border: none;
        box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
        z-index: 9000; cursor: pointer; opacity: 0; pointer-events: none;
        transition: 0.3s; display: flex; align-items: center; justify-content: center;
    }
    
    .app-footer {
        position: relative; z-index: 10;
        margin-top: 50px; padding-bottom: 120px; /* Space for Calc */
        background: var(--card-glass);
        border-top: 1px solid var(--border-glass);
    }
    /* === FIXED CALCULATOR DOCK (The Drawer Logic) === */
.calc-dock {
    position: fixed;
    bottom: 0; 
    left: 0; 
    width: 100%;
    
    /* 1. Force it to sit ON TOP of footer when open */
    z-index: 8000 !important; 
    
    /* 2. HIDE IT by pushing it 100% down (off-screen) */
    transform: translateY(100%); 
    
    /* 3. Smooth Slide Animation */
    transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    
    /* Visual styling */
    background: var(--card-glass);
    backdrop-filter: blur(30px);
    border-top: 1px solid var(--border-glass);
    border-radius: 30px 30px 0 0;
    box-shadow: 0 -10px 40px rgba(0,0,0,0.2);
}

/* This class pulls it back up when you click the button */
.calc-dock.active {
    transform: translateY(0) !important;
}

/* Handle Design */
.calc-handle {
    padding: 15px; text-align: center; cursor: pointer;
    color: var(--primary); font-weight: 700;
    }
        // --- SCIENTIFIC CALC TOGGLE ---
    function toggleCalc() {
        const dock = document.getElementById('scientific-dock');
        dock.classList.toggle('active'); // This triggers the slide up/down
    }
    
</style>
